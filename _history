{"entries":[{"timestamp":1748102105397,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.blocks","patch":[{"diffs":[[0,"http"],[-1,"s"],[0,"://"],[-1,"developers.google.com/blockly/xml\"><variables></variables>"],[1,"www.w3.org/1999/xhtml\">\n  "],[0,"<blo"]],"start1":12,"start2":12,"length1":70,"length2":37},{"diffs":[[0,"art\""],[-1," x=\"20\" y=\"20\""],[0,"></b"]],"start1":67,"start2":67,"length1":22,"length2":8},{"diffs":[[0,"</block>"],[1,"\n  "],[0,"<block t"]],"start1":72,"start2":72,"length1":16,"length2":19},{"diffs":[[0,"ver\""],[-1," x=\"225\" y=\"20\""],[0,"></b"]],"start1":107,"start2":107,"length1":23,"length2":8},{"diffs":[[0,"</block>"],[1,"\n"],[0,"</xml>"]],"start1":112,"start2":112,"length1":14,"length2":15}]},{"type":"edited","filename":"main.ts","patch":[{"diffs":[[-1,"from microbit import ;\nimport machine\nimport utime\n\nmotion_pin = pin1\nled_pin = pin2\n\n\nwhile True:\n    motion = motion_pin.read_digital()\nif motion == 1;\n    led_pin.write_digital(1)\ndisplay.show(Image.HAPPY)\n    else:\nled_pin.write_digital(0)\ndisplay.clear()\nsleep(500)\n\n    let motionDetected = false\n    let lcd: grove.LCD1602 = null\n\n    // إنشاء شاشة LCD على المنافذ I2C (SDA = P20، SCL = P19)\n    lcd = grove.createDisplay(DigitalPin.P20, DigitalPin.P19)\n\n    // عرض رسالة البداية على السطر الأول\n    lcd.setCursor(0, 0)\n    lcd.showString(\"Smart Home Ready\")\n\n    basic.forever(function () {\n        // قراءة إشارة من حساس الحركة PIR الموصول على P1\n        motionDetected = pins.digitalReadPin(DigitalPin.P1) == 1\n\n        if (motionDetected) {\n            // إذا اكتشفنا حركة:\n            pins.digitalWritePin(DigitalPin.P2, 1)   // تشغيل LED على P2\n            basic.showIcon(IconNames.Happy)         // عرض رمز وجه سعيد\n            lcd.setCursor(0, 1)\n            lcd.showString(\"Motion Detected \")      // عرض على LCD\n        } else {\n            // إذا ما في حركة:\n            pins.digitalWritePin(DigitalPin.P2, 0)   // إطفاء LED\n            basic.clearScreen()                     // مسح شاشة Micro:bit\n            lcd.setCursor(0, 1)\n            lcd.showString(\"No Motion      \")       // مسح السطر بفراغات\n        }\n\n        basic.pause(500)  // انتظار نصف ثانية\n    "],[1,"\n"]],"start1":0,"start2":0,"length1":1383,"length2":1}]},{"type":"edited","filename":"pxt.json","patch":[{"diffs":[[0,".md\""],[-1,",\n        \"main.py\"\n    ],\n    \"preferredEditor\": \"tsprj\""],[1,"\n    ],\n    \"additionalFilePaths\": []"],[0,"\n}\n"]],"start1":221,"start2":221,"length1":64,"length2":44}]},{"type":"added","filename":"main.py","value":"motionDetected = False\nlcd: grove.LCD1602 = None\n# إنشاء شاشة LCD على المنافذ I2C (SDA = P20، SCL = P19)\nlcd = grove.createDisplay(DigitalPin.P20, DigitalPin.P19)\n# عرض رسالة البداية على السطر الأول\nlcd.setCursor(0, 0)\nlcd.showString(\"Smart Home Ready\")\n\ndef on_forever():\n    global motionDetected\n    # قراءة إشارة من حساس الحركة PIR الموصول على P1\n    motionDetected = pins.digital_read_pin(DigitalPin.P1) == 1\n    # عرض على LCD\n    # مسح السطر بفراغات\n    if motionDetected:\n        # إذا اكتشفنا حركة:\n        pins.digital_write_pin(DigitalPin.P2, 1)\n        # تشغيل LED على P2\n        basic.show_icon(IconNames.HAPPY)\n        # عرض رمز وجه سعيد\n        lcd.setCursor(0, 1)\n        lcd.showString(\"Motion Detected \")\n    else:\n        # إذا ما في حركة:\n        pins.digital_write_pin(DigitalPin.P2, 0)\n        # إطفاء LED\n        basic.clear_screen()\n        # مسح شاشة Micro:bit\n        lcd.setCursor(0, 1)\n        lcd.showString(\"No Motion      \")\n    basic.pause(500)\nbasic.forever(on_forever)\n\n# انتظار نصف ثانية"}]},{"timestamp":1748102571941,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.ts","patch":[{"diffs":[[1,"from microbit import ;\nimport machine\nimport utime\n\nmotion_pin = pin1\nled_pin = pin2\n\n\nwhile True:\n    motion = motion_pin.read_digital()\nif motion == 1;\n    led_pin.write_digital(1)\ndisplay.show(Image.HAPPY)\n    else:\nled_pin.write_digital(0)\ndisplay.clear()\nsleep(500)\n\n    "],[0,"let motionDe"]],"start1":0,"start2":0,"length1":12,"length2":288},{"diffs":[[0,"lse\n"],[1,"    "],[0,"let lcd:"],[1," "],[0,"grov"]],"start1":299,"start2":299,"length1":16,"length2":21},{"diffs":[[0,"ll\n\n"],[-1,"// إعداد شاشة LCD Grove (I2C): "],[1,"    // إنشاء شاشة LCD على المنافذ I2C ("],[0,"SDA "]],"start1":334,"start2":334,"length1":39,"length2":47},{"diffs":[[0,"CL = P19"],[-1,"\n"],[1,")\n    "],[0,"lcd = gr"]],"start1":389,"start2":389,"length1":17,"length2":22},{"diffs":[[0,"9)\n\n"],[-1,"// رسالة ترحيبية\n"],[1,"    // عرض رسالة البداية على السطر الأول\n    "],[0,"lcd."]],"start1":458,"start2":458,"length1":25,"length2":53},{"diffs":[[0,"r(0, 0)\n"],[1,"    "],[0,"lcd.show"]],"start1":519,"start2":519,"length1":16,"length2":20},{"diffs":[[0,"eady\")\n\n"],[1,"    "],[0,"basic.fo"]],"start1":559,"start2":559,"length1":16,"length2":20},{"diffs":[[0,"nction () {\n"],[1,"        // قراءة إشارة من حساس الحركة PIR الموصول على P1\n    "],[0,"    motionDe"]],"start1":587,"start2":587,"length1":24,"length2":85},{"diffs":[[0,") == 1\n\n"],[1,"    "],[0,"    if ("]],"start1":714,"start2":714,"length1":16,"length2":20},{"diffs":[[0,"Detected) {\n"],[1,"            // إذا اكتشفنا حركة:\n    "],[0,"        pins"]],"start1":740,"start2":740,"length1":24,"length2":61},{"diffs":[[0,"alPin.P2, 1)"],[-1,"\n"],[1,"   // تشغيل LED على P2\n    "],[0,"        basi"]],"start1":823,"start2":823,"length1":25,"length2":51},{"diffs":[[0,"s.Happy)"],[-1,"\n"],[1,"         // عرض رمز وجه سعيد\n    "],[0,"        "]],"start1":893,"start2":893,"length1":17,"length2":49},{"diffs":[[0,"setCursor(0, 1)\n"],[1,"    "],[0,"        lcd.show"]],"start1":946,"start2":946,"length1":32,"length2":36},{"diffs":[[0,"d \")"],[-1,"\n    } else {\n"],[1,"      // عرض على LCD\n        } else {\n            // إذا ما في حركة:\n    "],[0,"    "]],"start1":1004,"start2":1004,"length1":22,"length2":81},{"diffs":[[0,"alPin.P2, 0)"],[-1,"\n"],[1,"   // إطفاء LED\n    "],[0,"        basi"]],"start1":1115,"start2":1115,"length1":25,"length2":44},{"diffs":[[0,"Screen()"],[-1,"\n"],[1,"                     // مسح شاشة Micro:bit\n    "],[0,"        "]],"start1":1166,"start2":1166,"length1":17,"length2":63},{"diffs":[[0,"r(0, 1)\n        "],[1," "],[1,"   "],[0,"lcd.showString(\""]],"start1":1241,"start2":1241,"length1":32,"length2":36},{"diffs":[[0,"  \")"],[-1,"\n"],[1,"       // مسح السطر بفراغات\n   "],[0,"    "],[1," "],[0,"}\n\n"],[1,"    "],[0,"    "]],"start1":1290,"start2":1290,"length1":16,"length2":51},{"diffs":[[0,"500)"],[-1,"\n})\n"],[1,"  // انتظار نصف ثانية\n    "]],"start1":1353,"start2":1353,"length1":8,"length2":30}]},{"type":"edited","filename":"pxt.json","patch":[{"diffs":[[0," \"*\""],[-1,",\n        \"Grove\": \"github:seeed-studio/pxt-grove#v0.7.0\""],[0,"\n   "]],"start1":137,"start2":137,"length1":65,"length2":8}]}]},{"timestamp":1748103409864,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.ts","patch":[{"diffs":[[0,"let lcd:"],[-1," "],[0,"grove.LC"]],"start1":27,"start2":27,"length1":17,"length2":16}]}]},{"timestamp":1748103410204,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.ts","patch":[{"diffs":[[0,": grove."],[1,"LCD1602 = null"],[0,"\n\n// إعد"]],"start1":34,"start2":34,"length1":16,"length2":30}]}]},{"timestamp":1748104054744,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.ts","patch":[{"diffs":[[0,"ove."],[-1,"\ngrove.lcd_init()"],[0,"\n\n//"]],"start1":38,"start2":38,"length1":25,"length2":8}]}]},{"timestamp":1748104107726,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.ts","patch":[{"diffs":[[-1,"grove\n\n"],[0,"let "]],"start1":0,"start2":0,"length1":11,"length2":4},{"diffs":[[0,"ove."],[-1,"LCD1602 = null\nlcd = grove.createDisplay(DigitalPin.P20, DigitalPin.P19)\n\n// إعداد شاشة LCD Grove (I2C): SDA = P20، SCL = P19\n"],[1,"\ngrove.lcd_init()\n\n// إعداد شاشة LCD Grove (I2C): SDA = P20، SCL = P19\nlcd = grove.createDisplay(DigitalPin.P20, DigitalPin.P19)"],[0,"\n\n//"]],"start1":38,"start2":38,"length1":134,"length2":136}]}]},{"timestamp":1748104410315,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"pxt.json","patch":[{"diffs":[[0,"7.0\""],[-1,",\n        \"pxt-rekabit-rbt-project-kit\": \"github:cytrontechnologies/pxt-rekabit-rbt-project-kit#v1.1.4\""],[0,"\n   "]],"start1":194,"start2":194,"length1":111,"length2":8}]},{"type":"edited","filename":"main.py","patch":[{"diffs":[[-1,"grove\n"],[0,"moti"]],"start1":0,"start2":0,"length1":10,"length2":4},{"diffs":[[0," = None\n"],[1,"# إنشاء شاشة LCD على المنافذ I2C (SDA = P20، SCL = P19)\n"],[0,"lcd = gr"]],"start1":41,"start2":41,"length1":16,"length2":72},{"diffs":[[0,"eate"],[-1,"_d"],[1,"D"],[0,"ispl"]],"start1":119,"start2":119,"length1":10,"length2":9},{"diffs":[[0,")\n# "],[-1,"إعداد شاشة LCD Grove (I2C): SDA = P20، SCL = P19\n# رسالة ترحيبية"],[1,"عرض رسالة البداية على السطر الأول"],[0,"\nlcd"]],"start1":161,"start2":161,"length1":72,"length2":41},{"diffs":[[0,"etected\n"],[1,"    # قراءة إشارة من حساس الحركة PIR الموصول على P1\n"],[0,"    moti"]],"start1":291,"start2":291,"length1":16,"length2":68},{"diffs":[[0,"    "],[-1,"if motionDetected"],[1,"# عرض على LCD\n    # مسح السطر بفراغات\n    if motionDetected:\n        # إذا اكتشفنا حركة"],[0,":\n  "]],"start1":414,"start2":414,"length1":25,"length2":95},{"diffs":[[0,"lPin.P2, 1)\n"],[1,"        # تشغيل LED على P2\n"],[0,"        basi"]],"start1":544,"start2":544,"length1":24,"length2":51},{"diffs":[[0,".HAPPY)\n"],[1,"        # عرض رمز وجه سعيد\n"],[0,"        "]],"start1":616,"start2":616,"length1":16,"length2":43},{"diffs":[[0,"  else:\n"],[1,"        # إذا ما في حركة:\n"],[0,"        "]],"start1":724,"start2":724,"length1":16,"length2":42},{"diffs":[[0,".P2, 0)\n"],[1,"        # إطفاء LED\n"],[0,"        "]],"start1":799,"start2":799,"length1":16,"length2":36},{"diffs":[[0,"creen()\n"],[1,"        # مسح شاشة Micro:bit\n"],[0,"        "]],"start1":848,"start2":848,"length1":16,"length2":45},{"diffs":[[0,"orever)\n"],[1,"\n# انتظار نصف ثانية"]],"start1":994,"start2":994,"length1":8,"length2":27}]}]},{"timestamp":1748104934534,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.ts","patch":[{"diffs":[[-1,"\nI2C_LCD1602.LcdInit(0)"],[1,"grove\n"],[0,"\nlet mot"]],"start1":0,"start2":0,"length1":31,"length2":14},{"diffs":[[0,"lse\n"],[-1,"I2C_LCD1602.LcdInit(0) // تهيئة الشاشة\nI2C_LCD1602.ShowString(\"Hello, World!\", 0, 0) // عرض النص على السطر الأوI2C_LCD1602.LcdInit(0) // تهيئة الشاشة\nI2C_LCD1602.ShowString(\"Hello, World!\", 0, 0) // عرض النص على السطر الأو"],[1,"let lcd: grove.LCD1602 = null\nlcd = grove.createDisplay(DigitalPin.P20, DigitalPin.P19)"],[0,"\n\n//"]],"start1":30,"start2":30,"length1":230,"length2":95}]},{"type":"edited","filename":"pxt.json","patch":[{"diffs":[[0,"1.4\""],[-1,",\n        \"i2cLCD1602\": \"github:makecode-extensions/i2cLCD1602#v1.5.0\""],[0,"\n   "]],"start1":297,"start2":297,"length1":78,"length2":8}]}]},{"timestamp":1748105465829,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.ts","patch":[{"diffs":[[1,"\nI2C_LCD1602.LcdInit(0)\n"],[0,"let motionDe"]],"start1":0,"start2":0,"length1":12,"length2":36},{"diffs":[[0,"lse\n"],[-1,"let gasLevel = 0\nlet temp = 0\nlet hum = 0\n\n"],[1,"I2C_LCD1602.LcdInit(0) "],[0,"// ت"]],"start1":47,"start2":47,"length1":51,"length2":31},{"diffs":[[0,"يئة "],[1,"ال"],[0,"شاشة"],[-1," LCD\n"],[1,"\nI2C_LCD1602.ShowString(\"Hello, World!\", 0, 0) // عرض النص على السطر الأو"],[0,"I2C_"]],"start1":79,"start2":79,"length1":17,"length2":87},{"diffs":[[0,"dInit(0)"],[1," // تهيئة الشاشة"],[0,"\nI2C_LCD"]],"start1":176,"start2":176,"length1":16,"length2":32},{"diffs":[[0,"ng(\""],[-1,"Smart Home Ready\", 0, 0)\nbasic.pause(2000)\nI2C_LCD1602.clear()\n\nbasic.forever(function () {\n    // قراءة الحركة من حساس PIR على P1\n    motionDetected = pins.digitalReadPin(DigitalPin.P1) == 1\n\n    // قراءة الغاز من MQ-4 على P0\n    gasLevel = pins.analogReadPin(AnalogPin.P0)\n\n    // قراءة الحرارة والرطوبة من DHT11 على P8\n    temp = DHT11.readTemperature(DigitalPin.P8)\n    hum = DHT11.readHumidity(DigitalPin.P8)\n\n    // عرض حالة الحركة على السطر الأول"],[1,"Hello, World!\", 0, 0) // عرض النص على السطر الأو\n\n// إعداد شاشة LCD Grove (I2C): SDA = P20، SCL = P19\n\n\n// رسالة ترحيبية\nlcd.setCursor(0, 0)\nlcd.showString(\"Smart Home Ready\")\n\nbasic.forever(function () {\n    motionDetected = pins.digitalReadPin(DigitalPin.P1) == 1\n"],[0,"\n   "]],"start1":221,"start2":221,"length1":461,"length2":274},{"diffs":[[0,"    "],[-1,"I2C_LCD1602.ShowString(\"Motion: Yes     \", 0, 0"],[1,"lcd.setCursor(0, 1"],[0,")\n"],[-1,"\n"],[0,"        "],[-1,"// إذا الحرارة تحت 30 نفتح الباب (سيرفو)\n        if (temp < 30) {\n            servos.P3.setAngle(90) // فتح الباب\n        } else {\n            servos.P3.setAngle(0) // إبقاءه مغلق\n        }"],[1,"lcd.showString(\"Motion Detected \")"],[0,"\n   "]],"start1":609,"start2":609,"length1":255,"length2":70},{"diffs":[[0,"    "],[-1,"I2C_LCD1602.ShowString(\"Motion: No      \", 0, 0"],[1,"lcd.setCursor(0, 1"],[0,")\n  "]],"start1":768,"start2":768,"length1":55,"length2":26},{"diffs":[[0,"    "],[-1,"servos.P3.setAngle(0) // الباب مغلق\n    }\n\n    // عرض معلومات الغاز والحرارة والرطوبة على السطر الثاني\n    I2C_LCD1602.ShowString(\"Gas:\" + gasLevel + \" T:\" + temp + \"C\", 0, 1)\n    basic.pause(2000)\n    I2C_LCD1602.ShowString(\"Humidity: \" + hum + \"% \", 0, 1)"],[1,"lcd.showString(\"No Motion      \")\n    }\n"],[0,"\n   "]],"start1":796,"start2":796,"length1":265,"length2":48},{"diffs":[[0,"use("],[-1,"20"],[1,"5"],[0,"00)\n})"],[1,"\n"]],"start1":853,"start2":853,"length1":12,"length2":12}]}]},{"timestamp":1748106055944,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.ts","patch":[{"diffs":[[0,"hum = 0\n"],[1,"\n"],[0,"// تهيئة"]],"start1":61,"start2":61,"length1":16,"length2":17},{"diffs":[[0,"r()\n"],[-1,"servos.P0.setAngle(90)"],[0,"\nbas"]],"start1":194,"start2":194,"length1":30,"length2":8}]},{"type":"edited","filename":"pxt.json","patch":[{"diffs":[[0,"5.0\""],[-1,",\n        \"pxt-DHT11_DHT22\": \"github:alankrantas/pxt-dht11_dht22#v0.0.3\",\n        \"servo\": \"*\""],[0,"\n   "]],"start1":367,"start2":367,"length1":102,"length2":8}]}]},{"timestamp":1748106331815,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.ts","patch":[{"diffs":[[1,"l"],[0,"et motio"]],"start1":0,"start2":0,"length1":8,"length2":9},{"diffs":[[0,"= 0\n"],[-1,"let uid = \"\"\n\n"],[0,"// ت"]],"start1":65,"start2":65,"length1":22,"length2":8},{"diffs":[[0,"ar()"],[-1,"\n\n// تهيئة السيرفو"],[0,"\nser"]],"start1":192,"start2":192,"length1":26,"length2":8},{"diffs":[[0,"90)\n"],[-1,"\n// تهيئة قارئ RFID\nMFRC522.Init()\n\nbasic.forever(function () {\n    // قراءة UID من بطاقة RFID\n    uid = MFRC522.getID()\n    if (uid == \"12345678\") {\n        I2C_LCD1602.ShowString(\"Access Granted\", 0, 0)\n        servos.P3.setAngle(90) // فتح الباب\n    } else {\n        I2C_LCD1602.ShowString(\"Access Denied \", 0, 0)\n        servos.P3.setAngle(0) // إغلاق الباب\n    }\n"],[1,"basic.forever(function () {"],[0,"\n   "]],"start1":216,"start2":216,"length1":376,"length2":35},{"diffs":[[0," temp = "],[-1,"dht11_dht22"],[1,"DHT11"],[0,".readTem"]],"start1":481,"start2":481,"length1":27,"length2":21},{"diffs":[[0,"m = "],[-1,"dht11_dht22"],[1,"DHT11"],[0,".rea"]],"start1":532,"start2":532,"length1":19,"length2":13}]}]},{"timestamp":1748107714290,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"pxt.json","patch":[{"diffs":[[0," \"*\""],[-1,",\n        \"pxt-mfrc522\": \"github:joy-it/pxt-rfid-mfrc522#1.0.1\""],[0,"\n   "]],"start1":461,"start2":461,"length1":71,"length2":8}]}]},{"timestamp":1748107761595,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.ts","patch":[{"diffs":[[-1,"l"],[0,"et motio"]],"start1":0,"start2":0,"length1":9,"length2":8},{"diffs":[[0,"uid = \"\""],[-1,"\nMFRC522.Init()"],[0,"\n\n// تهي"]],"start1":72,"start2":72,"length1":31,"length2":16}]}]},{"timestamp":1748107889935,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.ts","patch":[{"diffs":[[1,"let motionDetected = false"],[0,"\nlet gasLeve"]],"start1":0,"start2":0,"length1":12,"length2":38},{"diffs":[[0,"uid = \"\""],[1,"\nMFRC522.Init()"],[0,"\n\n// تهي"]],"start1":73,"start2":73,"length1":16,"length2":31}]}]},{"timestamp":1748108581502,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.ts","patch":[{"diffs":[[1,"\nlet gasLevel = 0\nlet temp = 0\nlet hum = 0\nlet uid = \"\"\n\n// تهيئة شاشة LCD\nI2C_LCD1602.LcdInit(0)\nI2C_LCD1602.ShowString(\"Smart Home Ready\", 0, 0)\nbasic.pause(2000)\nI2C_LCD1602.clear()\n\n// تهيئة السيرفو\nservos.P0.setAngle(90)\n\n// تهيئة قارئ RFID\nMFRC522.Init()\n\nbasic.forever(function () {\n    // قراءة UID من بطاقة RFID\n    uid = MFRC522.getID()\n    if (uid == \"12345678\") {\n        I2C_LCD1602.ShowString(\"Access Granted\", 0, 0)\n        servos.P3.setAngle(90) // فتح الباب\n    } else {\n        I2C_LCD1602.ShowString(\"Access Denied \", 0, 0)\n        servos.P3.setAngle(0) // إغلاق الباب\n    }\n\n    // قراءة الحركة من حساس PIR على P1\n    motionDetected = pins.digitalReadPin(DigitalPin.P1) == 1\n\n    // قراءة الغاز من MQ-4 على P0\n    gasLevel = pins.analogReadPin(AnalogPin.P0)\n\n    // قراءة الحرارة والرطوبة من DHT11 على P8\n    temp = dht11_dht22.readTemperature(DigitalPin.P8)\n    hum = dht11_dht22.readHumidity(DigitalPin.P8)\n\n    // عرض حالة الحركة على السطر الأول\n    if (motionDetected) {\n        pins.digitalWritePin(DigitalPin.P2, 1)\n        basic.showIcon(IconNames.Happy)\n        I2C_LCD1602.ShowString(\"Motion: Yes     \", 0, 0)\n\n        // إذا الحرارة تحت 30 نفتح الباب (سيرفو)\n        if (temp < 30) {\n            servos.P3.setAngle(90) // فتح الباب\n        } else {\n            servos.P3.setAngle(0) // إبقاءه مغلق\n        }\n    } else {\n        pins.digitalWritePin(DigitalPin.P2, 0)\n        basic.clearScreen()\n        I2C_LCD1602.ShowString(\"Motion: No      \", 0, 0)\n        servos.P3.setAngle(0) // الباب مغلق\n    }\n\n    // عرض معلومات الغاز والحرارة والرطوبة على السطر الثاني\n    I2C_LCD1602.ShowString(\"Gas:\" + gasLevel + \" T:\" + temp + \"C\", 0, 1)\n    basic.pause(2000)\n    I2C_LCD1602.ShowString(\"Humidity: \" + hum + \"% \", 0, 1)\n    basic.pause(2000)\n})"]],"start1":0,"start2":0,"length1":0,"length2":1773}]}]},{"timestamp":1748108816523,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.ts","patch":[{"diffs":[[-1,"let motionDetected = false\nlet gasLevel = 0\nlet temp = 0\nlet hum = 0\nlet uid = \"\"\nlet allowedUID = \"A1B2C3D4\" // غيّر هذا إلى UID بطاقتك\n\n// تهيئة شاشة LCD\nI2C_LCD1602.LcdInit(0)\nI2C_LCD1602.ShowString(\"Smart Home Ready\", 0, 0)\nbasic.pause(2000)\nI2C_LCD1602.clear()\n\n// تهيئة محرك السيرفو (الباب مغلق بالبداية)\npins.servoWritePin(AnalogPin.P3, 0)\n\n// تهيئة الاتصال التسلسلي لعرض UID\nserial.redirectToUSB()\nbasic.showIcon(IconNames.EighthNote)\n\nbasic.forever(function () {\n    // قراءة الحركة من حساس PIR على P1\n    motionDetected = pins.digitalReadPin(DigitalPin.P1) == 1\n\n    // قراءة الغاز من MQ-4 على P0\n    gasLevel = pins.analogReadPin(AnalogPin.P0)\n\n    // قراءة الحرارة والرطوبة من DHT11 على P8\n    temp = DHT11_dht11.readTemperature(DigitalPin.P8)\n    hum = DHT11_dht11.readHumidity(DigitalPin.P8)\n\n    // عرض حالة الحركة على السطر الأول\n    if (motionDetected) {\n        pins.digitalWritePin(DigitalPin.P2, 1)\n        I2C_LCD1602.ShowString(\"Motion: Yes     \", 0, 0)\n\n        // إذا الحرارة تحت 30 نفتح الباب (سيرفو) بعد التحقق من UID\n        if (temp < 30) {\n            if (MFRC522.isCard()) {\n                MFRC522.readCardSerial()\n                uid = MFRC522.getUid()\n                serial.writeLine(\"UID: \" + uid)\n                basic.showString(uid)\n\n                if (uid == allowedUID) {\n                    I2C_LCD1602.ShowString(\"Access Granted  \", 0, 1)\n                    pins.servoWritePin(AnalogPin.P3, 90) // فتح الباب\n                    basic.pause(3000)\n                    pins.servoWritePin(AnalogPin.P3, 0)  // إغلاق الباب\n                } else \n                    I2C_LCD1602.ShowString(\"Access Denied   \", 0, 1)"]],"start1":0,"start2":0,"length1":1654,"length2":0}]}]},{"timestamp":1748109399567,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.ts","patch":[{"diffs":[[0,"قتك\n"],[-1,"dht11_dht22.readDataSuccessful()"],[0,"\n"],[1,""],[0,"// ت"]],"start1":133,"start2":133,"length1":41,"length2":9},{"diffs":[[0,"ng(\""],[-1," Welcome to "],[0,"Smar"]],"start1":199,"start2":199,"length1":20,"length2":8},{"diffs":[[0,"rt Home "],[1,"Ready"],[0,"\", 0, 0)"]],"start1":206,"start2":206,"length1":16,"length2":21},{"diffs":[[0,"p = "],[-1,"dht"],[1,"DHT"],[0,"11_dht"],[-1,"22.selectTempTyp"],[1,"11.readTemperatur"],[0,"e(Di"]],"start1":709,"start2":709,"length1":33,"length2":34},{"diffs":[[0,"_dht11.r"],[1,"eadHumidity"],[0,"(Digital"]],"start1":771,"start2":771,"length1":16,"length2":27},{"diffs":[[0," } else "],[-1,"{"],[0,"\n       "]],"start1":1577,"start2":1577,"length1":17,"length2":16},{"diffs":[[0,", 1)"],[-1,"}\n            }\n        }\n    }\n    else{\n        pins.digitalWritePin(DigitalPin.P2,0)\n        I2C_LCD1602.ShowString(\"Motion:No    \",0,0)\n        pins.servoWritePin(AnalogPin.P3,0)\n    }\n    I2C_LCD1602.ShowString(\"Gaz:\"+gasLevel+\"T:\"+temp+\"C\",0,1)\n    basic.pause(2000)\n    I2C_LCD1602.ShowString(\"humidity: \"+hum+\"% \",0,1)\n    basic.pause(2000)\n})"]],"start1":1650,"start2":1650,"length1":355,"length2":4}]}]},{"timestamp":1748109991924,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.ts","patch":[{"diffs":[[0,"l()\n"],[-1,"// dht11_dht22.selectTempType(tempType.celsius)\n"],[0,"// ت"]],"start1":166,"start2":166,"length1":56,"length2":8},{"diffs":[[0,"    "],[-1,"let temperature = 0\n    let humidity = 0\n\n    basic.forever(function () {\n        dht11_dht22.selectTempType(tempType.celsius)\n        temperature = dht11_dht22.readTemperatur"],[1,"temp = dht11_dht22.selectTempTyp"],[0,"e(Di"]],"start1":741,"start2":741,"length1":183,"length2":40},{"diffs":[[0,"P8)\n"],[-1,"    "],[0,"    hum"],[-1,"idity = dht11_dht22.readHumidity"],[1," = DHT11_dht11.r"],[0,"(Dig"]],"start1":790,"start2":790,"length1":51,"length2":31},{"diffs":[[0,".P8)"],[-1,"\n    })"],[0,"\n\n  "]],"start1":828,"start2":828,"length1":15,"length2":8}]}]},{"timestamp":1748110609400,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.ts","patch":[{"diffs":[[0,"r()\n"],[-1,"dht11_dht22.readData(dataType.humidity)"],[0,"\n// "]],"start1":349,"start2":349,"length1":47,"length2":8}]}]},{"timestamp":1748110720595,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.ts","patch":[{"diffs":[[0," // "],[-1,"استبدل"],[1,"غيّر"],[0," هذا "],[-1,"بالـ"],[1,"إلى"],[0," UID"],[-1," من"],[0," بطاقتك\n"],[-1,"I2C_LCD1602.LcdInit(0)\n//"],[1,"dht11_dht22.readDataSuccessful()\n// dht11_dht22.selectTempType(tempType.celsius)\n// تهيئة شاشة"],[0," LCD"]],"start1":109,"start2":109,"length1":63,"length2":126},{"diffs":[[0,"String(\""],[1," Welcome to "],[0,"Smart Ho"]],"start1":275,"start2":275,"length1":16,"length2":28},{"diffs":[[0,"ome "],[-1,"Ready"],[0,"\", 0"]],"start1":302,"start2":302,"length1":13,"length2":8},{"diffs":[[0,"Data"],[-1,"Successful()\n// RFID تهيئة\nMFRC522.Init()\nserial.redirectToUSB() // لإظهار الـ UID\nMFRC522.Init()\nservos.P0.setAngle(9"],[1,"(dataType.humidity)\n// تهيئة محرك السيرفو (الباب مغلق بالبداية)\npins.servoWritePin(AnalogPin.P3, "],[0,"0)\n"],[1,"\n"],[0,"// "],[-1,"السيرفو (الباب مغلق)\nservos.P3.setAngle(0"],[1,"تهيئة الاتصال التسلسلي لعرض UID\nserial.redirectToUSB()\nbasic.showIcon(IconNames.EighthNote"],[0,")\n\nb"]],"start1":369,"start2":369,"length1":173,"length2":202},{"diffs":[[0,"لحركة من"],[1," حساس"],[0," PIR على"]],"start1":612,"start2":612,"length1":16,"length2":21},{"diffs":[[0," P8\n    "],[-1,"temp"],[1,"let temperature = 0\n    let humidity = 0\n\n    basic.forever(function () {\n        dht11_dht22.selectTempType(tempType.celsius)\n        temperature"],[0," = dht11"]],"start1":824,"start2":824,"length1":20,"length2":162},{"diffs":[[0,"P8)\n    "],[-1,"hum"],[1,"    humidity"],[0," = dht11"]],"start1":1020,"start2":1020,"length1":19,"length2":28},{"diffs":[[0,"Pin.P8)\n"],[1,"    })\n\n    // عرض حالة الحركة على السطر الأول"],[0,"\n    if "]],"start1":1075,"start2":1075,"length1":16,"length2":62},{"diffs":[[0,"  \", 0, 0)\n\n"],[1,"        // إذا الحرارة تحت 30 نفتح الباب (سيرفو) بعد التحقق من UID\n"],[0,"        if ("]],"start1":1249,"start2":1249,"length1":24,"length2":91},{"diffs":[[0,"\" + uid)"],[1,"\n                basic.showString(uid)"],[0,"\n\n      "]],"start1":1508,"start2":1508,"length1":16,"length2":54},{"diffs":[[0,"    "],[-1,"servos.P3.setAngle(90)"],[1,"pins.servoWritePin(AnalogPin.P3, 90) // فتح الباب"],[0,"\n   "]],"start1":1682,"start2":1682,"length1":30,"length2":57},{"diffs":[[0,"        "],[-1,"servos.P3.setAngle(0)"],[1,"pins.servoWritePin(AnalogPin.P3, 0)  // إغلاق الباب"],[0,"\n       "]],"start1":1786,"start2":1786,"length1":37,"length2":67},{"diffs":[[0,"enied   \", 0, 1)"],[1,"}"],[0,"\n"],[-1,"    "],[0,"            }\n  "]],"start1":1923,"start2":1923,"length1":37,"length2":34},{"diffs":[[0,"    "],[-1,"    }\n   "],[1,"}\n"],[0,"    "],[-1," "],[0,"}\n   "],[-1," }"],[0," else"],[-1," "],[0,"{\n  "]],"start1":1959,"start2":1959,"length1":35,"length2":24},{"diffs":[[0,"lPin.P2,"],[-1," "],[0,"0)\n     "]],"start1":2016,"start2":2016,"length1":17,"length2":16},{"diffs":[[0,"ion:"],[-1," "],[0,"No    "],[-1,"  "],[0,"\","],[-1," "],[0,"0,"],[-1," "],[0,"0)\n "]],"start1":2062,"start2":2062,"length1":23,"length2":18},{"diffs":[[0,"    "],[-1,"servos.P3.setAngle(0)\n    }\n\n    // عرض معلومات الغاز والحرارة والرطوبة"],[1,"pins.servoWritePin(AnalogPin.P3,0)\n    }"],[0,"\n   "]],"start1":2083,"start2":2083,"length1":79,"length2":48},{"diffs":[[0,"(\"Ga"],[-1,"s:\" + "],[1,"z:\"+"],[0,"gasLevel"],[-1," + \" T:\" + "],[1,"+\"T:\"+"],[0,"temp"],[-1," + "],[1,"+"],[0,"\"C\","],[-1," "],[0,"0,"],[-1," "],[0,"1)\n "]],"start1":2154,"start2":2154,"length1":48,"length2":37},{"diffs":[[0,"String(\""],[-1,"H"],[1,"h"],[0,"umidity:"]],"start1":2232,"start2":2232,"length1":17,"length2":17},{"diffs":[[0,"y: \""],[-1," + hum + "],[1,"+hum+"],[0,"\"% \","],[-1," "],[0,"0,"],[-1," "],[0,"1)\n "]],"start1":2247,"start2":2247,"length1":26,"length2":20}]}]},{"timestamp":1748111257450,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.ts","patch":[{"diffs":[[-1,"MFRC522.Init()\r\nI2C_LCD1602.LcdInit(0)\r\ndht11_dht22.readDataSuccessful()\r\n"],[0,"let "]],"start1":0,"start2":0,"length1":78,"length2":4},{"diffs":[[0," = false"],[-1,"\r"],[0,"\nlet gas"]],"start1":18,"start2":18,"length1":17,"length2":16},{"diffs":[[0,"gasLevel = 0"],[-1,"\r"],[0,"\nlet temp = "]],"start1":31,"start2":31,"length1":25,"length2":24},{"diffs":[[0,"let temp = 0"],[-1,"\r"],[0,"\nlet hum = 0"]],"start1":44,"start2":44,"length1":25,"length2":24},{"diffs":[[0," hum = 0"],[-1,"\r"],[0,"\nlet uid"]],"start1":60,"start2":60,"length1":17,"length2":16},{"diffs":[[0,"uid = \"\""],[-1,"\r"],[0,"\nlet all"]],"start1":73,"start2":73,"length1":17,"length2":16},{"diffs":[[0," // "],[-1,"غيّر"],[1,"استبدل"],[0," هذا "],[-1,"إلى"],[1,"بالـ"],[0," UID "],[-1,"الخاص ب"],[1,"من "],[0,"بطاقتك"],[-1,"\r\n\r\n// تهيئة الشاشة\r"],[1,"\nI2C_LCD1602.LcdInit(0)\n// LCD"],[0,"\nI2C"]],"start1":109,"start2":109,"length1":58,"length2":67},{"diffs":[[0,"dInit(0)"],[-1,"\r"],[0,"\nI2C_LCD"]],"start1":187,"start2":187,"length1":17,"length2":16},{"diffs":[[0,"\", 0, 0)"],[-1,"\r"],[0,"\nbasic.p"]],"start1":236,"start2":236,"length1":17,"length2":16},{"diffs":[[0,"se(2000)"],[-1,"\r"],[0,"\nI2C_LCD"]],"start1":254,"start2":254,"length1":17,"length2":16},{"diffs":[[0,"ar()"],[-1,"\r\n\r\n// تهيئة محرك الباب\r\nservos.P0.setAngle(0)\r\n\r\n// تهيئة RFID\r\nRFID.Init(DigitalPin.P16, DigitalPin.P15)\r\nserial.redirectToUSB()\r\nbasic.showIcon(IconNames.Happy)\r\n\r\nbasic.forever(function () {\r\n    // قراءة UID من RFID\r\n    if (RFID.isCard()) {\r\n        uid = RFID.getUID()\r\n        serial.writeLine(\"UID: \" + uid)\r\n        basic.pause(1000)\r\n    }\r\n})\r\n\r"],[1,"\ndht11_dht22.readDataSuccessful()\n// RFID تهيئة\nMFRC522.Init()\nserial.redirectToUSB() // لإظهار الـ UID\nMFRC522.Init()\nservos.P0.setAngle(90)\n// السيرفو (الباب مغلق)\nservos.P3.setAngle(0)\n"],[0,"\nbas"]],"start1":278,"start2":278,"length1":365,"length2":196},{"diffs":[[0,"ion () {"],[-1,"\r"],[0,"\n    // "]],"start1":490,"start2":490,"length1":17,"length2":16},{"diffs":[[0,"ة من PIR"],[-1,"\r"],[1," على P1"],[0,"\n    mot"]],"start1":517,"start2":517,"length1":17,"length2":23},{"diffs":[[0,"P1) == 1"],[-1,"\r\n\r"],[1,"\n"],[0,"\n    // "]],"start1":585,"start2":585,"length1":19,"length2":17},{"diffs":[[0,"ءة الغاز"],[-1,"\r"],[1," من MQ-4 على P0"],[0,"\n    gas"]],"start1":605,"start2":605,"length1":17,"length2":31},{"diffs":[[0,"gPin.P0)"],[-1,"\r\n\r"],[1,"\n"],[0,"\n    // "]],"start1":668,"start2":668,"length1":19,"length2":17},{"diffs":[[0,"طوبة"],[-1,"\r\n    temp = DHT11_TemperatureHumidity"],[1," من DHT11 على P8\n    temp = dht11_dht22"],[0,".rea"]],"start1":703,"start2":703,"length1":46,"length2":47},{"diffs":[[0,"lPin.P8)"],[-1,"\r"],[0,"\n    hum"]],"start1":769,"start2":769,"length1":17,"length2":16},{"diffs":[[0,"m = "],[-1,"DHT11_TemperatureHumidity"],[1,"dht11_dht22"],[0,".rea"]],"start1":784,"start2":784,"length1":33,"length2":19},{"diffs":[[0,"lPin.P8)"],[-1,"\r\n\r"],[1,"\n"],[0,"\n    if "]],"start1":819,"start2":819,"length1":19,"length2":17},{"diffs":[[0,"ected) {"],[-1,"\r"],[0,"\n       "]],"start1":846,"start2":846,"length1":17,"length2":16},{"diffs":[[0,", 1)"],[-1,"\r\n        basic.showIcon(IconNames.Heart)\r"],[0,"\n   "]],"start1":897,"start2":897,"length1":50,"length2":8},{"diffs":[[0,"\", 0, 0)"],[-1,"\r\n\r\n"],[1,"\n\n        if (temp < 30) {\n            if (MFRC522.isCard()) {\n                MFRC522.readCardSerial()\n                uid = MFRC522.getUid()\n                serial.writeLine(\"UID: \" + uid)\n\n        "],[0,"        "]],"start1":950,"start2":950,"length1":20,"length2":216},{"diffs":[[0,"dUID"],[-1," && temp < 30) {\r\n"],[1,") {\n        "],[0,"    "]],"start1":1183,"start2":1183,"length1":26,"length2":20},{"diffs":[[0,"ranted  \", 0, 1)"],[-1,"\r"],[0,"\n"],[1,"        "],[0,"            serv"]],"start1":1243,"start2":1243,"length1":34,"length2":41},{"diffs":[[0,"ngle(90)"],[-1,"\r"],[0,"\n"],[1,"        "],[0,"        "]],"start1":1294,"start2":1294,"length1":18,"length2":25},{"diffs":[[0,".pause(3000)"],[-1,"\r"],[0,"\n"],[1,"        "],[0,"            "]],"start1":1328,"start2":1328,"length1":26,"length2":33},{"diffs":[[0,"e(0)"],[-1,"\r"],[0,"\n"],[1,"      "],[0,"        "],[1,"  "],[0,"} else {"],[-1,"\r"],[0,"\n"],[1,"        "],[0,"    "]],"start1":1378,"start2":1378,"length1":28,"length2":42},{"diffs":[[0,"d   \", 0, 1)"],[-1,"\r"],[1,"\n                }\n            }"],[0,"\n        }\r\n"]],"start1":1464,"start2":1464,"length1":25,"length2":56},{"diffs":[[0,"       }"],[-1,"\r"],[0,"\n    } e"]],"start1":1510,"start2":1510,"length1":17,"length2":16},{"diffs":[[0,"} else {"],[-1,"\r"],[0,"\n       "]],"start1":1523,"start2":1523,"length1":17,"length2":16},{"diffs":[[0,", 0)"],[-1,"\r\n        basic.clearScreen()\r"],[0,"\n   "]],"start1":1574,"start2":1574,"length1":38,"length2":8},{"diffs":[[0,"\", 0, 0)"],[-1,"\r"],[0,"\n       "]],"start1":1627,"start2":1627,"length1":17,"length2":16},{"diffs":[[0,"e(0)"],[-1,"\r"],[0,"\n    }"],[-1,"\r\n\r"],[1,"\n"],[0,"\n   "]],"start1":1661,"start2":1661,"length1":18,"length2":15},{"diffs":[[0,"عرض "],[-1,"ال"],[0,"معلومات "],[-1,"على الشاشة\r"],[1,"الغاز والحرارة والرطوبة"],[0,"\n   "]],"start1":1680,"start2":1680,"length1":29,"length2":39},{"diffs":[[0,"emp + \"C\", 0, 1)"],[-1,"\r"],[0,"\n    basic.pause"]],"start1":1772,"start2":1772,"length1":33,"length2":32},{"diffs":[[0,"se(2000)"],[-1,"\r"],[0,"\n    I2C"]],"start1":1802,"start2":1802,"length1":17,"length2":16},{"diffs":[[0,"hum + \"%"],[-1,"    "],[0," \", 0, 1"]],"start1":1853,"start2":1853,"length1":20,"length2":16},{"diffs":[[0,"\", 0, 1)"],[-1,"\r"],[0,"\n    bas"]],"start1":1862,"start2":1862,"length1":17,"length2":16},{"diffs":[[0,"000)"],[-1,"\r"],[0,"\n})"]],"start1":1888,"start2":1888,"length1":8,"length2":7}]}]},{"timestamp":1748111702124,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.ts","patch":[{"diffs":[[0," temp = "],[-1,"dht11_dht22.readData"],[1,"DHT11_TemperatureHumidity.readTemperature"],[0,"(Digital"]],"start1":939,"start2":939,"length1":36,"length2":57},{"diffs":[[0,"        servos.P"],[-1,"0"],[1,"3"],[0,".setAngle(90)\r\n "]],"start1":1361,"start2":1361,"length1":33,"length2":33},{"diffs":[[0,"        servos.P"],[-1,"0"],[1,"3"],[0,".setAngle(0)\r\n  "]],"start1":1428,"start2":1428,"length1":33,"length2":33},{"diffs":[[0,"        servos.P"],[-1,"0"],[1,"3"],[0,".setAngle(0)\r\n  "]],"start1":1699,"start2":1699,"length1":33,"length2":33}]}]},{"timestamp":1748112283656,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.ts","patch":[{"diffs":[[0,"logPin.P"],[-1,"4"],[1,"0"],[0,")\r\n\r\n   "]],"start1":891,"start2":891,"length1":17,"length2":17}]}]},{"timestamp":1748113327851,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.ts","patch":[{"diffs":[[0,"talPin.P"],[-1," "],[0,"2, 0)\r\n "]],"start1":1576,"start2":1576,"length1":17,"length2":16}]}]},{"timestamp":1748113554601,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.ts","patch":[{"diffs":[[0,"talPin.P"],[1," 2"],[0,", 0)\r\n  "]],"start1":1576,"start2":1576,"length1":16,"length2":18}]}]},{"timestamp":1748120753116,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.ts","patch":[{"diffs":[[0,"talPin.P"],[-1,"2"],[0,", 0)\r\n  "]],"start1":1576,"start2":1576,"length1":17,"length2":16}]}]},{"timestamp":1748120753886,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.ts","patch":[{"diffs":[[0,"Pin."],[-1," "],[0,"P2,"],[1," "],[0,"0)\r\n"]],"start1":1579,"start2":1579,"length1":12,"length2":12}]}]},{"timestamp":1748120874055,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.ts","patch":[{"diffs":[[0,"    }\r\n}"],[1,")"],[0,"\r\n\r\nbasi"]],"start1":700,"start2":700,"length1":16,"length2":17}]}]},{"timestamp":1748123589096,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.ts","patch":[{"diffs":[[0,"ction ()"],[-1,")"],[0," {\r\n    "]],"start1":539,"start2":539,"length1":17,"length2":16}]}]},{"timestamp":1748123631333,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.ts","patch":[{"diffs":[[1,"MFRC522.Init()\r\nI2C_LCD1602.LcdInit(0)\r\ndht11_dht22.readDataSuccessful()\r\n"],[0,"let motionDe"]],"start1":0,"start2":0,"length1":12,"length2":86},{"diffs":[[0," = \""],[-1,"12345678\" // استبدل"],[1,"A1B2C3D4\" // غيّر"],[0," هذا "],[-1,"بـ"],[1,"إلى"],[0," UID ال"],[-1,"صحيح من بطاقتك\r\ndht11_dht22.selectTempType(tempType.celsius)\r\ndht11_dht22.readDataSuccessful()"],[1,"خاص ببطاقتك\r\n"],[0,"\r\n//"]],"start1":175,"start2":175,"length1":135,"length2":53},{"diffs":[[0,"يئة "],[-1,"السيرفو (مغلق بالبداية)"],[1,"محرك الباب"],[0,"\r\nse"]],"start1":364,"start2":364,"length1":31,"length2":18},{"diffs":[[0,"\n// "],[-1,"إعداد RFID"],[1,"تهيئة RFID\r\nRFID.Init(DigitalPin.P16, DigitalPin.P15)"],[0,"\r\nse"]],"start1":404,"start2":404,"length1":18,"length2":61},{"diffs":[[0,"oUSB()\r\n"],[-1,"MFRC522.Init()\r\n"],[0,"basic.sh"]],"start1":479,"start2":479,"length1":32,"length2":16},{"diffs":[[0,"ppy)\r\n\r\n"],[1,"basic.forever(function ()) {\r\n    // قراءة UID من RFID\r\n    if (RFID.isCard()) {\r\n        uid = RFID.getUID()\r\n        serial.writeLine(\"UID: \" + uid)\r\n        basic.pause(1000)\r\n    }\r\n}\r\n\r\n"],[0,"basic.fo"]],"start1":514,"start2":514,"length1":16,"length2":207},{"diffs":[[0,"لغاز"],[-1," من MQ-4 على P4"],[0,"\r\n  "]],"start1":848,"start2":848,"length1":23,"length2":8},{"diffs":[[0,"4)\r\n"],[-1,"MFRC522.Init()\r\nMFRC522.getID()"],[0,"\r\n  "]],"start1":899,"start2":899,"length1":39,"length2":8},{"diffs":[[0,"طوبة"],[-1," من DHT11 على P8"],[0,"\r\n  "]],"start1":930,"start2":930,"length1":24,"length2":8},{"diffs":[[0,"t22."],[-1,"selectTempType"],[1,"readData"],[0,"(Dig"]],"start1":955,"start2":955,"length1":22,"length2":16},{"diffs":[[0,"m = "],[-1,"dht11_dht22(DigitalPin.P8)\r\n\r\n    // LED عند وجود حركة"],[1,"DHT11_TemperatureHumidity.readHumidity(DigitalPin.P8)\r\n"],[0,"\r\n  "]],"start1":990,"start2":990,"length1":62,"length2":63},{"diffs":[[0,"Pin.P2, 1)\r\n"],[1,"        basic.showIcon(IconNames.Heart)\r\n"],[0,"        I2C_"]],"start1":1114,"start2":1114,"length1":24,"length2":65},{"diffs":[[0,"    "],[-1,"// شرط فتح الباب فقط إذا UID صحيح والحرارة مناسبة\r\n        if (temp < 30) {\r\n            if (MFRC522.isCard()) {\r\n                MFRC522.readCardSerial()\r\n                uid = MFRC522.getUid()\r\n                serial.writeLine(\"UID: \" + uid)\r\n                if (uid == allowedUID) {\r\n        "],[1,"if (uid == allowedUID && temp < 30) {\r\n"],[0,"    "]],"start1":1231,"start2":1231,"length1":303,"length2":47},{"diffs":[[0,"            "],[-1,"    "],[-1,"    "],[0,"servos.P0.se"]],"start1":1336,"start2":1336,"length1":32,"length2":24},{"diffs":[[0,"(90)"],[-1," // فتح الباب\r\n        "],[1,"\r\n"],[0,"    "]],"start1":1366,"start2":1366,"length1":31,"length2":10},{"diffs":[[0,"            "],[-1," "],[-1,"       "],[0,"servos.P0.se"]],"start1":1403,"start2":1403,"length1":32,"length2":24},{"diffs":[[0,"e(0)"],[-1," // إغلاق الباب\r\n    "],[1,"\r\n"],[0,"        "],[-1,"    "],[0,"} el"]],"start1":1432,"start2":1432,"length1":41,"length2":18},{"diffs":[[0,"  } else {\r\n"],[-1,"        "],[0,"            "]],"start1":1444,"start2":1444,"length1":32,"length2":24},{"diffs":[[0,"1)\r\n"],[-1,"                }\r\n            }\r\n"],[0,"    "]],"start1":1514,"start2":1514,"length1":42,"length2":8},{"diffs":[[0,"Pin."],[1," "],[0,"P2,"],[-1," "],[0,"0"],[1,")\r\n        basic.clearScreen("],[0,")\r\n "]],"start1":1579,"start2":1579,"length1":13,"length2":42},{"diffs":[[0,"عرض "],[1,"ال"],[0,"معلومات"],[-1," إضافية"],[0," على"]],"start1":1725,"start2":1725,"length1":22,"length2":17},{"diffs":[[0,"umidity:"],[1," "],[0,"\" + hum "]],"start1":1877,"start2":1877,"length1":16,"length2":17},{"diffs":[[0,"hum + \"%"],[1,"    "],[0," \", 0, 1"]],"start1":1890,"start2":1890,"length1":16,"length2":20}]}]},{"timestamp":1748124249933,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.ts","patch":[{"diffs":[[0,"tID("],[-1,"card"],[0,")\r\n "]],"start1":747,"start2":747,"length1":12,"length2":8}]}]},{"timestamp":1748124253134,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.ts","patch":[{"diffs":[[0,"cted = false"],[-1,";"],[0,"\r\nlet gasLev"]],"start1":14,"start2":14,"length1":25,"length2":24},{"diffs":[[0," = 0"],[-1,";"],[0,"\r\nlet "],[-1,"Iscard=false;"],[1,"temp = 0"],[0,"\r\nle"]],"start1":40,"start2":40,"length1":28,"length2":22},{"diffs":[[0," hum = 0"],[-1,";"],[0,"\r\nlet ui"]],"start1":63,"start2":63,"length1":17,"length2":16},{"diffs":[[0,"= \"\""],[-1,";"],[0,"\r\nle"]],"start1":81,"start2":81,"length1":9,"length2":8},{"diffs":[[0,"()\r\n"],[-1,"servos.P0.setAngle(90)\r\n"],[0,"// ت"]],"start1":230,"start2":230,"length1":32,"length2":8},{"diffs":[[0,"in.P4)\r\n"],[1,"MFRC522.Init()\r\nMFRC522.getID(card)"],[0,"\r\n"],[-1,""],[0,"    // ق"]],"start1":713,"start2":713,"length1":18,"length2":53},{"diffs":[[0,"    "],[-1," let "],[0,"temp = "],[-1,"("],[0,"dht1"]],"start1":805,"start2":805,"length1":21,"length2":15},{"diffs":[[0,"t22."],[-1,"readData(dataType.temperature)"],[1,"selectTempType(DigitalPin.P8"],[0,")\r\n "]],"start1":824,"start2":824,"length1":38,"length2":36},{"diffs":[[0,"  hum = "],[-1,"("],[0,"dht11_dh"]],"start1":861,"start2":861,"length1":17,"length2":16},{"diffs":[[0,"ht22"],[-1,".readData(dataType.humidity)"],[1,"(DigitalPin.P8"],[0,")\r\n\r"]],"start1":876,"start2":876,"length1":36,"length2":22},{"diffs":[[0,"MFRC522."],[-1,"I"],[1,"i"],[0,"sCard())"]],"start1":1161,"start2":1161,"length1":17,"length2":17}]}]},{"timestamp":1748124848933,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.ts","patch":[{"diffs":[[0,"t Iscard"],[-1," = "],[1,"="],[0,"false;\r\n"]],"start1":50,"start2":50,"length1":19,"length2":17},{"diffs":[[0,"2345678\""],[-1,";"],[0," // استب"]],"start1":115,"start2":115,"length1":17,"length2":16},{"diffs":[[0,"قتك\r"],[-1,"\n\r\n// إعداد المستشعرات\r"],[0,"\ndht"]],"start1":158,"start2":158,"length1":31,"length2":8},{"diffs":[[0,"celsius)"],[-1,";"],[0,"\r\ndht11_"]],"start1":199,"start2":199,"length1":17,"length2":16},{"diffs":[[0,"essful()"],[-1,";"],[0,"\r\nservos"]],"start1":233,"start2":233,"length1":17,"length2":16},{"diffs":[[0,"(90)"],[-1,"; // مبدئيًا\r\n"],[0,"\r\n//"]],"start1":261,"start2":261,"length1":22,"length2":8},{"diffs":[[0,"dInit(0)"],[-1,";"],[0,"\r\nI2C_LC"]],"start1":298,"start2":298,"length1":17,"length2":16},{"diffs":[[0,"\", 0, 0)"],[-1,";"],[0,"\r\nbasic."]],"start1":348,"start2":348,"length1":17,"length2":16},{"diffs":[[0,"se(2000)"],[-1,";"],[0,"\r\nI2C_LC"]],"start1":367,"start2":367,"length1":17,"length2":16},{"diffs":[[0,".clear()"],[-1,";"],[1,"\r\n\r\n// تهيئة السيرفو (مغلق بالبداية)\r\nservos.P0.setAngle(0)"],[0,"\r\n\r\n// إ"]],"start1":388,"start2":388,"length1":17,"length2":75},{"diffs":[[0,"tToUSB()"],[-1,";"],[0,"\r\nMFRC52"]],"start1":488,"start2":488,"length1":17,"length2":16},{"diffs":[[0,"2.Init()"],[-1,";"],[0,"\r\nbasic."]],"start1":504,"start2":504,"length1":17,"length2":16},{"diffs":[[0,"ppy)"],[-1,";\r\n\r\n// تهيئة السيرفو (مغلق بالبداية)\r\nservos.P0.setAngle(0);"],[0,"\r\n\r\n"]],"start1":541,"start2":541,"length1":69,"length2":8},{"diffs":[[0,"P1) == 1"],[-1,";"],[0,"\r\n\r\n    "]],"start1":658,"start2":658,"length1":17,"length2":16},{"diffs":[[0," من MQ-4"],[1," على P4"],[0,"\r\n    ga"]],"start1":688,"start2":688,"length1":16,"length2":23},{"diffs":[[0,"gPin.P4)"],[-1,";"],[0,"\r\n\r\n    "]],"start1":744,"start2":744,"length1":17,"length2":16},{"diffs":[[0,"من DHT11"],[1," على P8"],[0,"\r\n"],[1," "],[0,"    let "]],"start1":786,"start2":786,"length1":18,"length2":26},{"diffs":[[0," temp = "],[1,"("],[0,"dht11_dh"]],"start1":811,"start2":811,"length1":16,"length2":17},{"diffs":[[0,"erature)"],[-1,";"],[1,")"],[0,"\r\n    hu"]],"start1":854,"start2":854,"length1":17,"length2":17},{"diffs":[[0,"  hum = "],[1,"("],[0,"dht11_dh"]],"start1":867,"start2":867,"length1":16,"length2":17},{"diffs":[[0,"umidity)"],[-1,";"],[1,")"],[0,"\r\n\r\n    "]],"start1":907,"start2":907,"length1":17,"length2":17},{"diffs":[[0," // "],[-1,"عرض حالة ال"],[1,"LED عند وجود "],[0,"حركة"]],"start1":923,"start2":923,"length1":19,"length2":21},{"diffs":[[0,"alPin.P2, 1)"],[-1,";"],[0,"\r\n        I2"]],"start1":1007,"start2":1007,"length1":25,"length2":24},{"diffs":[[0,"\", 0, 0)"],[-1,";"],[0,"\r\n\r\n    "]],"start1":1069,"start2":1069,"length1":17,"length2":16},{"diffs":[[0," // "],[-1,"التحقق من البطاقة"],[1,"شرط فتح الباب فقط إذا UID صحيح"],[0," وال"]],"start1":1088,"start2":1088,"length1":25,"length2":38},{"diffs":[[0,"والحرارة"],[1," مناسبة"],[0,"\r\n      "]],"start1":1123,"start2":1123,"length1":16,"length2":23},{"diffs":[[0,"MFRC522."],[-1,"i"],[1,"I"],[0,"sCard())"]],"start1":1182,"start2":1182,"length1":17,"length2":17},{"diffs":[[0,"Serial()"],[-1,";"],[0,"\r\n      "]],"start1":1235,"start2":1235,"length1":17,"length2":16},{"diffs":[[0,".get"],[-1,"ID(); // تحقق من صحة هذا الاسم"],[1,"Uid()"],[0,"\r\n  "]],"start1":1274,"start2":1274,"length1":38,"length2":13},{"diffs":[[0,"\" + uid)"],[-1,";\r\n"],[0,"\r\n      "]],"start1":1324,"start2":1324,"length1":19,"length2":16},{"diffs":[[0,"Granted "],[1," "],[0,"\", 0, 1)"],[-1,";"],[0,"\r\n      "]],"start1":1427,"start2":1427,"length1":25,"length2":25},{"diffs":[[0,"ngle(90)"],[-1,";    "],[0," // فتح "]],"start1":1480,"start2":1480,"length1":21,"length2":16},{"diffs":[[0,".pause(3000)"],[-1,";"],[0,"\r\n          "]],"start1":1528,"start2":1528,"length1":25,"length2":24},{"diffs":[[0,"e(0)"],[-1,";     "],[0," // "]],"start1":1579,"start2":1579,"length1":14,"length2":8},{"diffs":[[0,"Denied  "],[1," "],[0,"\", 0, 1)"],[-1,";"],[0,"\r\n      "]],"start1":1677,"start2":1677,"length1":25,"length2":25},{"diffs":[[0,"alPin.P2, 0)"],[-1,";"],[0,"\r\n        I2"]],"start1":1789,"start2":1789,"length1":25,"length2":24},{"diffs":[[0,"\", 0, 0)"],[-1,";"],[0,"\r\n      "]],"start1":1851,"start2":1851,"length1":17,"length2":16},{"diffs":[[0,"Angle(0)"],[-1,";"],[0,"\r\n    }\r"]],"start1":1882,"start2":1882,"length1":17,"length2":16},{"diffs":[[0,"emp + \"C\", 0, 1)"],[-1,";"],[0,"\r\n    basic.paus"]],"start1":1995,"start2":1995,"length1":33,"length2":32},{"diffs":[[0,"se(2000)"],[-1,";"],[0,"\r\n    I2"]],"start1":2026,"start2":2026,"length1":17,"length2":16},{"diffs":[[0,"\", 0, 1)"],[-1,";"],[0,"\r\n    ba"]],"start1":2086,"start2":2086,"length1":17,"length2":16},{"diffs":[[0,"000)"],[-1,";"],[0,"\r\n})"],[-1,";\r\n"]],"start1":2113,"start2":2113,"length1":12,"length2":8}]}]},{"timestamp":1748125427684,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.ts","patch":[{"diffs":[[0,"let "],[-1,"hum = 0;\r\nlet isCard=false"],[1,"Iscard = false;\r\nlet hum = 0"],[0,";\r\nl"]],"start1":48,"start2":48,"length1":34,"length2":36},{"diffs":[[0,"0, 0);\r\n"],[-1,"    }"],[0,"\r\n      "]],"start1":1106,"start2":1106,"length1":21,"length2":16},{"diffs":[[0,"لحرارة\r\n"],[1,"    "],[0,"    if ("]],"start1":1147,"start2":1147,"length1":16,"length2":20},{"diffs":[[0,"RC522.is"],[-1,"c"],[1,"C"],[0,"ard()) {"]],"start1":1199,"start2":1199,"length1":17,"length2":17},{"diffs":[[0," uid);\r\n"],[-1,"            }"],[0,"\r\n"],[1,"  "],[0,"        "]],"start1":1368,"start2":1368,"length1":31,"length2":20},{"diffs":[[0,"       }"],[-1,"\r\n                "],[0," else {\r"]],"start1":1665,"start2":1665,"length1":34,"length2":16},{"diffs":[[0,"        "],[1,"}"],[0,"\r\n      "]],"start1":1775,"start2":1775,"length1":16,"length2":17},{"diffs":[[0," }\r\n    "],[1,"}"],[0," else {\r"]],"start1":1793,"start2":1793,"length1":16,"length2":17},{"diffs":[[0,");\r\n"],[-1,"    "],[0,"})"],[1,";"],[0,"\r\n"]],"start1":2178,"start2":2178,"length1":12,"length2":9}]}]},{"timestamp":1748126054109,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.ts","patch":[{"diffs":[[0,"2.iscard"],[1,"()"],[0,") {\r\n   "]],"start1":1202,"start2":1202,"length1":16,"length2":18}]}]},{"timestamp":1748126055244,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.ts","patch":[{"diffs":[[0,"t hum = 0;\r\n"],[1,"let isCard=false;\r\n"],[0,"let uid = \"\""]],"start1":50,"start2":50,"length1":24,"length2":43},{"diffs":[[0," == 1;\r\n"],[1,"\r\n"],[0,"    // ق"]],"start1":709,"start2":709,"length1":16,"length2":18},{"diffs":[[0,"ن MQ-4\r\n"],[-1,"\r\n"],[0,"    gasL"]],"start1":739,"start2":739,"length1":18,"length2":16},{"diffs":[[0,"dity);\r\n"],[-1,"}"],[0,"\r\n    //"]],"start1":943,"start2":943,"length1":17,"length2":16},{"diffs":[[0,"كة\r\n"],[-1,"  basic.forever(function(){\r\n"],[0,"    "]],"start1":973,"start2":973,"length1":37,"length2":8},{"diffs":[[0,"0, 0);\r\n    "],[1,"}"],[0,"\r\n        //"]],"start1":1104,"start2":1104,"length1":24,"length2":25},{"diffs":[[0,"2.is"],[-1,"C"],[1,"c"],[0,"ard"],[-1,"()"],[0,") {\r"]],"start1":1202,"start2":1202,"length1":14,"length2":12},{"diffs":[[0," + uid);"],[-1,"}"],[0,"\r\n      "]],"start1":1363,"start2":1363,"length1":17,"length2":16},{"diffs":[[0,"0);\r\n   "],[1," })"],[0,"\r\n"]],"start1":2201,"start2":2201,"length1":10,"length2":13}]}]},{"timestamp":1748126655742,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.ts","patch":[{"diffs":[[0,"ion(){\r\n"],[-1,"\r\n"],[0,"    if ("]],"start1":980,"start2":980,"length1":18,"length2":16}]}]},{"timestamp":1748126688969,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.ts","patch":[{"diffs":[[0,"ogPin.P4);\r\n"],[-1,"    "],[0,"\r\n"],[1,""],[0,"    // قراءة"]],"start1":766,"start2":766,"length1":30,"length2":26},{"diffs":[[0,"humidity);\r\n"],[1,"}"],[0,"\r\n"],[-1,""],[0,"    // عرض ح"]],"start1":920,"start2":920,"length1":26,"length2":27},{"diffs":[[0,"الحركة\r\n"],[1,"  basic.forever(function(){\r\n\r\n"],[0,"    if ("]],"start1":951,"start2":951,"length1":16,"length2":47},{"diffs":[[0," + uid);"],[1,"}"],[0,"\r\n"],[-1,"    "],[0,"        "]],"start1":1377,"start2":1377,"length1":22,"length2":19},{"diffs":[[0,"\n    }\r\n"],[-1,"    "],[0,"\r\n"],[1,""],[0,"    // ع"]],"start1":1989,"start2":1989,"length1":22,"length2":18},{"diffs":[[0,"\n   "],[-1," "],[0,"\r\n"],[-1,"    })"]],"start1":2220,"start2":2220,"length1":13,"length2":6}]}]},{"timestamp":1748127137184,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.ts","patch":[{"diffs":[[0,"/ استبدل"],[-1,"ه"],[1," هذا"],[0," بـ UID "]],"start1":107,"start2":107,"length1":17,"length2":20},{"diffs":[[0,"D ال"],[-1,"حقيقي"],[1,"صحيح من بطاقتك"],[0,"\r\n\r\n"]],"start1":125,"start2":125,"length1":13,"length2":22},{"diffs":[[0,"داد "],[-1,"DHT11"],[1,"المستشعرات"],[0,"\r\ndh"]],"start1":152,"start2":152,"length1":13,"length2":18},{"diffs":[[0,"();\r"],[-1,"\n\r\n// تهيئة السيرفو والـ LCD\r"],[0,"\nser"]],"start1":245,"start2":245,"length1":37,"length2":8},{"diffs":[[0,"gle("],[1,"9"],[0,"0); // "],[-1,"إغلاق مبدئي"],[1,"مبدئيًا\r\n\r\n// تهيئة الشاشة"],[0,"\r\nI2"]],"start1":265,"start2":265,"length1":26,"length2":42},{"diffs":[[0,"py);\r\n\r\n"],[1,"// تهيئة السيرفو (مغلق بالبداية)\r\nservos.P0.setAngle(0);\r\n\r\n"],[0,"basic.fo"]],"start1":510,"start2":510,"length1":16,"length2":76},{"diffs":[[0,"قراءة الحركة"],[1," من PIR"],[0,"\r\n    motion"]],"start1":614,"start2":614,"length1":24,"length2":31},{"diffs":[[0,"ءة الغاز"],[1," من MQ-4\r\n"],[0,"\r\n    ga"]],"start1":708,"start2":708,"length1":16,"length2":26},{"diffs":[[0,"ogPin.P4);\r\n"],[1,"    \r\n"],[0,"    // قراءة"]],"start1":766,"start2":766,"length1":24,"length2":30},{"diffs":[[0,"والرطوبة"],[1," من DHT11"],[0,"\r\n    le"]],"start1":805,"start2":805,"length1":16,"length2":25},{"diffs":[[0,"\r\n    //"],[1," عرض"],[0," حالة ال"]],"start1":936,"start2":936,"length1":16,"length2":20},{"diffs":[[0," \", 0, 0);\r\n"],[-1,"\r\n"],[0,"    "],[1,"\r\n        // التحقق من البطاقة والحرارة\r\n"],[0,"    if (temp"]],"start1":1085,"start2":1085,"length1":30,"length2":69},{"diffs":[[0,"// ت"],[-1,"أكد أن getID() ترجع UID كـ String"],[1,"حقق من صحة هذا الاسم"],[0,"\r\n  "]],"start1":1283,"start2":1283,"length1":41,"length2":28},{"diffs":[[0," uid);\r\n"],[-1,"\r\n"],[0,"  "],[1,"              }\r\n"],[0,"        "]],"start1":1351,"start2":1351,"length1":20,"length2":35},{"diffs":[[0,"etAngle(90);"],[1,"    "],[0," // فتح البا"]],"start1":1519,"start2":1519,"length1":24,"length2":28},{"diffs":[[0,"ngle(0);"],[1,"    "],[0,"  // إغل"]],"start1":1624,"start2":1624,"length1":16,"length2":20},{"diffs":[[0,"               }"],[1,"\r\n                "],[0," else {\r\n       "]],"start1":1655,"start2":1655,"length1":32,"length2":50},{"diffs":[[0,"    "],[-1,"}\r\n        } else {\r\n            I2C_LCD1602.ShowString(\"High Temp!      \", 0, 1);"],[0,"\r\n  "]],"start1":1795,"start2":1795,"length1":90,"length2":8},{"diffs":[[0," }\r\n    "],[-1,"}"],[0," else {\r"]],"start1":1808,"start2":1808,"length1":17,"length2":16},{"diffs":[[0,"\n    }\r\n"],[1,"    "],[0,"\r\n    //"]],"start1":1964,"start2":1964,"length1":16,"length2":20},{"diffs":[[0,"عرض "],[-1,"بيان"],[1,"معلوم"],[0,"ات إ"]],"start1":1985,"start2":1985,"length1":12,"length2":13},{"diffs":[[0,"افية"],[-1,"\r\n    basic.pause(2000);"],[1," على الشاشة"],[0,"\r\n  "]],"start1":1999,"start2":1999,"length1":32,"length2":19},{"diffs":[[0,"hum + \"%"],[-1,"    "],[0," \", 0, 1"]],"start1":2156,"start2":2156,"length1":20,"length2":16},{"diffs":[[0,");\r\n"],[1,"    \r\n    "],[0,"})"],[-1,";"]],"start1":2196,"start2":2196,"length1":7,"length2":16}]}]},{"timestamp":1748160154674,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.ts","patch":[{"diffs":[[0,"isCard()"],[1,")"],[0," {\r\n    "]],"start1":1049,"start2":1049,"length1":16,"length2":17}]}]},{"timestamp":1748160435378,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.ts","patch":[{"diffs":[[0,"    "],[-1,"basic.forever(function(){"],[1,"if (MFRC522.isCard() {\r\n                MFRC522.readCardSerial();"],[0,"\r\n  "]],"start1":1033,"start2":1033,"length1":33,"length2":73},{"diffs":[[0," uid"],[-1,"="],[1," = "],[0,"MFRC522."],[-1,"read"],[1,"getID(); // تأكد أن getID() ترجع UID كـ String\r\n                serial.writeLine(\"UID: \" + uid);\r\n"],[0,"\r\n  "]],"start1":1119,"start2":1119,"length1":21,"length2":117}]}]},{"timestamp":1748161031015,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.ts","patch":[{"diffs":[[0,"    "],[-1,"if (iscard()) {\r\n                MFRC522.readCardSerial();"],[1,"basic.forever(function(){"],[0,"\r\n  "]],"start1":1033,"start2":1033,"length1":66,"length2":33},{"diffs":[[0," uid"],[-1," = "],[1,"="],[0,"MFRC522."],[-1,"getID(); // تأكد أن getID() ترجع UID كـ String\r\n                serial.writeLine(\"UID: \" + uid);\r\n            "],[1,"read"],[0,"\r\n  "]],"start1":1079,"start2":1079,"length1":129,"length2":21},{"diffs":[[0,"        "],[1,"}"],[0,"\r\n      "]],"start1":1487,"start2":1487,"length1":16,"length2":17},{"diffs":[[0,"\n    }\r\n"],[-1,"    }"],[0,"\r\n    //"]],"start1":1743,"start2":1743,"length1":21,"length2":16}]}]},{"timestamp":1748161533364,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.ts","patch":[{"diffs":[[0," = false"],[1,";"],[0,"\r\nlet ga"]],"start1":18,"start2":18,"length1":16,"length2":17},{"diffs":[[0,"gasLevel = 0"],[1,";"],[0,"\r\nlet hum = "]],"start1":33,"start2":33,"length1":24,"length2":25},{"diffs":[[0," = 0"],[1,";"],[0,"\r\nlet "],[-1,"temp = 0\r\n\r\n// إعداد شاشة LCD"],[1,"uid = \"\";\r\nlet allowedUID = \"12345678\"; // استبدله بـ UID الحقيقي\r\n\r\n// إعداد DHT11\r\ndht11_dht22.selectTempType(tempType.celsius);\r\ndht11_dht22.readDataSuccessful();\r\n\r\n// تهيئة السيرفو والـ LCD\r\nservos.P0.setAngle(0); // إغلاق مبدئي"],[0,"\r\nI2"]],"start1":55,"start2":55,"length1":43,"length2":248},{"diffs":[[0,"dInit(0)"],[1,";"],[0,"\r\nI2C_LC"]],"start1":315,"start2":315,"length1":16,"length2":17},{"diffs":[[0,"\", 0, 0)"],[1,";"],[0,"\r\nbasic."]],"start1":366,"start2":366,"length1":16,"length2":17},{"diffs":[[0,"se(2000)"],[1,";"],[0,"\r\nI2C_LC"]],"start1":386,"start2":386,"length1":16,"length2":17},{"diffs":[[0,".clear()"],[1,";"],[0,"\r\n\r\n// إ"]],"start1":408,"start2":408,"length1":16,"length2":17},{"diffs":[[0,"داد "],[-1,"DHT11\r\ndht11_dht22.selectTempType(tempType.celsius)\r\n\r\n// إغلاق السيرفو مبدئيًا\r\nservos.P0.setAngle(0)"],[1,"RFID\r\nserial.redirectToUSB();\r\nMFRC522.Init();\r\nbasic.showIcon(IconNames.Happy);"],[0,"\r\n\r\n"]],"start1":426,"start2":426,"length1":110,"length2":88},{"diffs":[[0,"حركة"],[-1," من PIR"],[0,"\r\n  "]],"start1":558,"start2":558,"length1":15,"length2":8},{"diffs":[[0,"P1) == 1"],[-1,"\r\n"],[1,";"],[0,"\r\n    //"]],"start1":616,"start2":616,"length1":18,"length2":17},{"diffs":[[0,"لغاز"],[-1," من MQ-4"],[0,"\r\n  "]],"start1":641,"start2":641,"length1":16,"length2":8},{"diffs":[[0,"gPin.P4)"],[-1,"\r\n"],[1,";"],[0,"\r\n    //"]],"start1":686,"start2":686,"length1":18,"length2":17},{"diffs":[[0,"طوبة"],[-1," من DHT11"],[0,"\r\n    "],[1,"let "],[0,"temp"]],"start1":722,"start2":722,"length1":23,"length2":18},{"diffs":[[0,"erature)"],[1,";"],[0,"\r\n    hu"]],"start1":777,"start2":777,"length1":16,"length2":17},{"diffs":[[0,"umidity)"],[1,";"],[0,"\r\n\r\n    "]],"start1":829,"start2":829,"length1":16,"length2":17},{"diffs":[[0," // "],[-1,"عرض درجة الحرار"],[1,"حال"],[0,"ة "],[-1,"و"],[0,"ال"],[-1,"رطوب"],[1,"حرك"],[0,"ة\r\n    "],[-1,"I2C_LCD1602.ShowString(\"T:\" + temp + \"C H:\" + hum + \"%\", 0, 0)\r\n    basic.pause(2000)\r\n\r\n    // عرض نسبة الغاز\r\n    I2C_LCD1602.ShowString(\"Gas: \" + gasLevel, 0, 1)\r\n    basic.pause(2000)\r\n\r\n    // التحقق من الحركة\r\n    if (motionDetected"],[1,"if (motionDetected) {\r\n        pins.digitalWritePin(DigitalPin.P2, 1);\r\n        I2C_LCD1602.ShowString(\"Motion: Yes     \", 0, 0);\r\n\r\n        if (temp < 30) {\r\n            if (iscard()"],[0,") {\r"]],"start1":845,"start2":845,"length1":277,"length2":208},{"diffs":[[0,"    "],[-1,"pins.digitalWritePin(DigitalPin.P2, 1) // تشغيل LED\r\n        I2C_LCD1602.ShowString(\"Motion: Yes     \", 0, 1)\r\n\r\n        // إذا درجة الحرارة أقل من 30 نفتح الباب\r\n        if (temp < 30) {\r\n"],[1,"        MFRC522.readCardSerial();\r\n                uid = MFRC522.getID(); // تأكد أن getID() ترجع UID كـ String\r\n                serial.writeLine(\"UID: \" + uid);\r\n            \r\n                if (uid == allowedUID) {\r\n                    I2C_LCD1602.ShowString(\"Access Granted \", 0, 1);\r\n        "],[0,"    "]],"start1":1058,"start2":1058,"length1":197,"length2":305},{"diffs":[[0,"ngle(90)"],[1,";"],[0," // فتح "]],"start1":1385,"start2":1385,"length1":16,"length2":17},{"diffs":[[0,"            "],[1,"        "],[0,"basic.pause("]],"start1":1409,"start2":1409,"length1":24,"length2":32},{"diffs":[[0,"se(3000)"],[1,";"],[0,"\r\n      "]],"start1":1438,"start2":1438,"length1":16,"length2":17},{"diffs":[[0,");\r\n            "],[1,"        "],[0,"servos.P0.setAng"]],"start1":1445,"start2":1445,"length1":32,"length2":40},{"diffs":[[0,"Angle(0)"],[1,";"],[0,"  // إغل"]],"start1":1482,"start2":1482,"length1":16,"length2":17},{"diffs":[[0,"// إغلاق الباب\r\n"],[1,"                } else {\r\n                    I2C_LCD1602.ShowString(\"Access Denied  \", 0, 1);\r\n                }\r\n            \r\n        } else {\r\n            I2C_LCD1602.ShowString(\"High Temp!      \", 0, 1);\r\n"],[0,"        }\r\n\r\n   "]],"start1":1493,"start2":1493,"length1":32,"length2":242},{"diffs":[[0,"\n        }\r\n"],[-1,"\r\n"],[0,"    } else {"]],"start1":1718,"start2":1718,"length1":26,"length2":24},{"diffs":[[0,", 0)"],[-1," // إطفاء LED"],[1,";"],[0,"\r\n  "]],"start1":1786,"start2":1786,"length1":21,"length2":9},{"diffs":[[0," 0, "],[-1,"1)\r\n    }\r\n\r\n    basic.pause(2000)"],[1,"0);\r\n        servos.P0.setAngle(0);\r\n    }\r\n    }\r\n    // عرض بيانات إضافية\r\n    basic.pause(2000);\r\n    I2C_LCD1602.ShowString(\"Gas:\" + gasLevel + \" T:\" + temp + \"C\", 0, 1);\r\n    basic.pause(2000);\r\n    I2C_LCD1602.ShowString(\"Humidity:\" + hum + \"%     \", 0, 1);\r\n    basic.pause(2000);"],[0,"\r\n})"],[1,";"]],"start1":1843,"start2":1843,"length1":42,"length2":296}]},{"type":"edited","filename":"main.py","patch":[{"diffs":[[1,"grove\n"],[0,"motionDetected = False\ng"]],"start1":0,"start2":0,"length1":24,"length2":30},{"diffs":[[0,"lse\n"],[-1,"gasLevel = 0\nhum = 0\nuid = \"\"\nallowedUID = \"12345678\"\n# استبدله بـ UID الحقيقي\n# إعداد DHT11\ndht11_dht22.select_temp_type(tempType.CELSIUS)\ndht11_dht22.read_data_successful()\n# تهيئة السيرفو والـ LCD\nservos.P0.set_angle(0)\n# إغلاق مبدئي\nI2C_LCD1602.lcd_init(0)\nI2C_LCD1602"],[1,"lcd: grove.LCD1602 = None\nlcd = grove.create_display(DigitalPin.P20, DigitalPin.P19)\n# إعداد شاشة LCD Grove (I2C): SDA = P20، SCL = P19\n# رسالة ترحيبية\nlcd.setCursor(0, 0)\nlcd"],[0,".show"],[-1,"_s"],[1,"S"],[0,"trin"]],"start1":25,"start2":25,"length1":287,"length2":189},{"diffs":[[0,"ady\""],[-1,", 0, 0)\nbasic.pause(2000)\nI2C_LCD1602.clear()\n# إعداد RFID\nserial.redirect_to_usb()\nMFRC522.init()\nbasic.show_icon(IconNames.HAPPY"],[0,")\n\nd"]],"start1":230,"start2":230,"length1":138,"length2":8},{"diffs":[[0,"cted"],[-1,", gasLevel, hum, uid\n    # قراءة الحركة"],[0,"\n   "]],"start1":276,"start2":276,"length1":47,"length2":8},{"diffs":[[0,"    "],[-1,"# قراءة الغاز\n    gasLevel = pins.analog_read_pin(AnalogPin.P4)\n    # قراءة الحرارة والرطوبة\n    temp = dht11_dht22.read_data(dataType.TEMPERATURE)\n    hum = dht11_dht22.read_data(dataType.HUMIDITY)\n    # حالة الحركة\n    if motionDetected:\n        pins.digital_write_pin(DigitalPin.P2, 1)\n        I2C_LCD1602.show_string(\"Motion: Yes     \", 0, 0)\n        if temp < 30:\n            uid = MFRC522.get_id()\n            # تأكد أن getID() ترجع UID كـ String\n            serial.write_line(\"UID: \" + uid)\n            # إغلاق الباب\n            if uid == allowedUID:\n                I2C_LCD1602.show_string(\"Access Granted \", 0, 1)\n                servos.P0.set_angle(90)\n                # فتح الباب\n                basic.pause(3000)\n                servos.P0.set_angle(0)\n            else:\n                I2C_LCD1602.show_string(\"Access Denied  \", 0, 1)\n        else:\n            I2C_LCD1602"],[1,"if motionDetected:\n        pins.digital_write_pin(DigitalPin.P2, 1)\n        basic.show_icon(IconNames.HAPPY)\n        lcd.setCursor(0, 1)\n        lcd"],[0,".show"],[-1,"_s"],[1,"S"],[0,"tring(\""],[-1,"High Temp!      \", 0, 1"],[1,"Motion Detected \""],[0,")\n  "]],"start1":344,"start2":344,"length1":929,"length2":186},{"diffs":[[0,"    "],[-1,"I2C_LCD1602.show_string(\"Motion: No      \", 0, 0)\n        servos.P0.set_angle(0)\n    # عرض بيانات إضافية\n    basic.pause(2000)\n    I2C_LCD1602.show_string(\"Gas:\" + str(gasLevel) + \" T:\" + str(temp) + \"C\", 0, 1)\n    basic.pause(2000)\n    I2C_LCD1602"],[1,"basic.clear_screen()\n        lcd.setCursor(0, 1)\n        lcd"],[0,".show"],[-1,"_s"],[1,"S"],[0,"tring(\""],[-1,"Humidity:\" + str(hum) + \"%     \", 0, 1"],[1,"No Motion      \""],[0,")\n  "]],"start1":591,"start2":591,"length1":308,"length2":97},{"diffs":[[0,"c.pause("],[-1,"20"],[1,"5"],[0,"00)\nbasi"]],"start1":694,"start2":694,"length1":18,"length2":17}]}]},{"timestamp":1748162107361,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.blocks","patch":[{"diffs":[[0,"es><"],[-1,"variable id=\"3[SQ15#3k:|imRq,]u90\">motionDetected</variable><variable id=\"~AN3Y)$jT4mU1XK%gx[9\">gasLevel</variable><variable id=\"7MB0ca4%wonnWK4dIH.G\">temp</variable><variable id=\"F2%1e;5e=qjB4XrzU+s#\">hum</variable></variables><block type=\"pxt-on-start\" x=\"54\" y=\"4\"><statement name=\"HANDLER\"><block type=\"I2C_LCD1620_SET_ADDRESS\"><comment pinned=\"false\" h=\"80\" w=\"160\">إعداد شاشة LCD</comment><value name=\"addr\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"I2C_LCD1620_SHOW_STRING\"><value name=\"s\"><shadow type=\"text\"><field name=\"TEXT\">Smart Home Ready</field></shadow></value><value name=\"x\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"15\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow></value><value name=\"y\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"1\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow></value><next><block type=\"device_pause\"><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">2000</field></shadow></value><next><block type=\"I2C_LCD1620_CLEAR\"><next><block type=\"dht11_dht22_selectTempType\"><field name=\"temp\">tempType.celsius</field><comment pinned=\"false\" h=\"80\" w=\"160\">إعداد DHT11</comment><next><block type=\"servoservosetangle\"><field name=\"servo\">servos.P0</field><comment pinned=\"false\" h=\"80\" w=\"160\">إغلاق السيرفو مبدئيًا</comment><value name=\"degrees\"><shadow type=\"protractorPicker\"><field name=\"angle\">0</field></shadow></value></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"device_forever\" x=\"205\" y=\"0\"><statement name=\"HANDLER\"><block type=\"variables_set\"><field name=\"VAR\" id=\"3[SQ15#3k:|imRq,]u90\">motionDetected</field><comment pinned=\"false\" h=\"80\" w=\"160\">قراءة الحركة من PIR</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"device_get_digital_pin\"><value name=\"name\"><shadow type=\"digital_pin_shadow\"><field name=\"pin\">DigitalPin.P1</field></shadow></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"~AN3Y)$jT4mU1XK%gx[9\">gasLevel</field><comment pinned=\"false\" h=\"80\" w=\"160\">قراءة الغاز من MQ-4</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"device_get_analog_pin\"><value name=\"name\"><shadow type=\"analog_read_write_pin_shadow\"><field name=\"pin\">AnalogReadWritePin.P0</field></shadow><block type=\"analog_pin\"><field name=\"pin\">AnalogPin.P4</field></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"7MB0ca4%wonnWK4dIH.G\">temp</field><comment pinned=\"false\" h=\"80\" w=\"160\">قراءة الحرارة والرطوبة من DHT11</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"dht11_dht22_readData\"><field name=\"data\">dataType.temperature</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"F2%1e;5e=qjB4XrzU+s#\">hum</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"dht11_dht22_readData\"><field name=\"data\">dataType.humidity</field></block></value><next><block type=\"I2C_LCD1620_SHOW_STRING\"><comment pinned=\"false\" h=\"80\" w=\"160\">عرض درجة الحرارة والرطوبة</comment><value name=\"s\"><block type=\"text_join\" inline=\"false\"><mutation items=\"5\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">T:</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"7MB0ca4%wonnWK4dIH.G\">temp</field></block></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\">C H:</field></shadow></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"F2%1e;5e=qjB4XrzU+s#\">hum</field></block></value><value name=\"ADD4\"><shadow type=\"text\"><field name=\"TEXT\">%</field></shadow></value></block></value><value name=\"x\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"15\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow></value><value name=\"y\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"1\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow></value><next><block type=\"device_pause\"><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">2000</field></shadow></value><next><block type=\"I2C_LCD1620_SHOW_STRING\"><comment pinned=\"false\" h=\"80\" w=\"160\">عرض نسبة الغاز</comment><value name=\"s\"><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">Gas: </field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"~AN3Y)$jT4mU1XK%gx[9\">gasLevel</field></block></value></block></value><value name=\"x\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"15\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow></value><value name=\"y\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"1\" precision=\"0\"></mutation><field name=\"SLIDER\">1</field></shadow></value><next><block type=\"device_pause\"><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">2000</field></shadow></value><next><block type=\"controls_if\"><mutation else=\"1\"></mutation><comment pinned=\"false\" h=\"80\" w=\"160\">التحقق من الحركة</comment><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"3[SQ15#3k:|imRq,]u90\">motionDetected</field></block></value><statement name=\"DO0\"><block type=\"device_set_digital_pin\"><comment pinned=\"false\" h=\"80\" w=\"160\">تشغيل LED</comment><value name=\"name\"><shadow type=\"digital_pin_shadow\"><field name=\"pin\">DigitalPin.P2</field></shadow></value><value name=\"value\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"1\" precision=\"0\"></mutation><field name=\"SLIDER\">1</field></shadow></value><next><block type=\"I2C_LCD1620_SHOW_STRING\"><data>{\"commentRefs\":[],\"fieldData\":{}}</data><value name=\"s\"><shadow type=\"text\"><field name=\"TEXT\">Motion: Yes     </field></shadow></value><value name=\"x\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"15\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow></value><value name=\"y\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"1\" precision=\"0\"></mutation><field name=\"SLIDER\">1</field></shadow></value><next><block type=\"controls_if\"><comment pinned=\"false\" h=\"80\" w=\"160\">إذا درجة الحرارة أقل من 30 نفتح الباب</comment><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">LT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"7MB0ca4%wonnWK4dIH.G\">temp</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">30</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"servoservosetangle\"><field name=\"servo\">servos.P0</field><comment pinned=\"false\" h=\"80\" w=\"160\">فتح الباب</comment><value name=\"degrees\"><shadow type=\"protractorPicker\"><field name=\"angle\">90</field></shadow></value><next><block type=\"device_pause\"><data>{\"commentRefs\":[],\"fieldData\":{}}</data><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">3000</field></shadow></value><next><block type=\"servoservosetangle\"><field name=\"servo\">servos.P0</field><comment pinned=\"false\" h=\"80\" w=\"160\">إغلاق الباب</comment><value name=\"degrees\"><shadow type=\"protractorPicker\"><field name=\"angle\">0</field></shadow></value></block></next></block></next></block></statement></block></next></block></next></block></statement><statement name=\"ELSE\"><block type=\"device_set_digital_pin\"><comment pinned=\"false\" h=\"80\" w=\"160\">إطفاء LED</comment><value name=\"name\"><shadow type=\"digital_pin_shadow\"><field name=\"pin\">DigitalPin.P2</field></shadow></value><value name=\"value\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"1\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow></value><next><block type=\"I2C_LCD1620_SHOW_STRING\"><data>{\"commentRefs\":[],\"fieldData\":{}}</data><value name=\"s\"><shadow type=\"text\"><field name=\"TEXT\">Motion: No      </field></shadow></value><value name=\"x\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"15\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow></value><value name=\"y\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"1\" precision=\"0\"></mutation><field name=\"SLIDER\">1</field></shadow></value></block></next></block></statement><next><block type=\"device_pause\"><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">2000</field></shadow></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement"],[1,"/variables><block type=\"pxt-on-start\" x=\"20\" y=\"20\"></block><block type=\"device_forever\" x=\"225\" y=\"20\""],[0,"></b"]],"start1":63,"start2":63,"length1":9210,"length2":111}]},{"type":"edited","filename":"main.ts","patch":[{"diffs":[[0,"let "],[-1,"hum = 0\nlet temp = 0"],[1,"motionDetected = false\r"],[0,"\nlet"]],"start1":0,"start2":0,"length1":28,"length2":31},{"diffs":[[0," = 0"],[1,"\r"],[0,"\nlet "],[-1,"motionDetected = false"],[1,"hum = 0\r\nlet temp = 0\r\n\r"],[0,"\n// "]],"start1":40,"start2":40,"length1":35,"length2":38},{"diffs":[[0,"شاشة LCD"],[1,"\r"],[0,"\nI2C_LCD"]],"start1":84,"start2":84,"length1":16,"length2":17},{"diffs":[[0,"dInit(0)"],[1,"\r"],[0,"\nI2C_LCD"]],"start1":108,"start2":108,"length1":16,"length2":17},{"diffs":[[0,"\", 0, 0)"],[1,"\r"],[0,"\nbasic.p"]],"start1":158,"start2":158,"length1":16,"length2":17},{"diffs":[[0,"se(2000)"],[1,"\r"],[0,"\nI2C_LCD"]],"start1":177,"start2":177,"length1":16,"length2":17},{"diffs":[[0,".clear()"],[1,"\r\n\r"],[0,"\n// إعدا"]],"start1":198,"start2":198,"length1":16,"length2":19},{"diffs":[[0,"اد DHT11"],[1,"\r"],[0,"\ndht11_d"]],"start1":216,"start2":216,"length1":16,"length2":17},{"diffs":[[0,"celsius)"],[1,"\r\n\r"],[0,"\n// إغلا"]],"start1":262,"start2":262,"length1":16,"length2":19},{"diffs":[[0," مبدئيًا"],[1,"\r"],[0,"\nservos."]],"start1":290,"start2":290,"length1":16,"length2":17},{"diffs":[[0,"Angle(0)"],[1,"\r\n\r"],[0,"\nbasic.f"]],"start1":313,"start2":313,"length1":16,"length2":19},{"diffs":[[0,"ion () {"],[1,"\r"],[0,"\n    // "]],"start1":344,"start2":344,"length1":16,"length2":17},{"diffs":[[0,"ة من PIR"],[1,"\r"],[0,"\n    mot"]],"start1":372,"start2":372,"length1":16,"length2":17},{"diffs":[[0,"P1) == 1"],[1,"\r\n\r"],[0,"\n    // "]],"start1":434,"start2":434,"length1":16,"length2":19},{"diffs":[[0," من MQ-4"],[1,"\r"],[0,"\n    gas"]],"start1":464,"start2":464,"length1":16,"length2":17},{"diffs":[[0,"gPin.P4)"],[1,"\r\n\r"],[0,"\n    // "]],"start1":513,"start2":513,"length1":16,"length2":19},{"diffs":[[0,"من DHT11"],[1,"\r"],[0,"\n    tem"]],"start1":555,"start2":555,"length1":16,"length2":17},{"diffs":[[0,"erature)"],[1,"\r"],[0,"\n    hum"]],"start1":610,"start2":610,"length1":16,"length2":17},{"diffs":[[0,"umidity)"],[1,"\r\n\r"],[0,"\n    // "]],"start1":661,"start2":661,"length1":16,"length2":19},{"diffs":[[0,"والرطوبة"],[1,"\r"],[0,"\n    I2C"]],"start1":697,"start2":697,"length1":16,"length2":17},{"diffs":[[0,"+ \"%\", 0, 0)"],[1,"\r"],[0,"\n    basic.p"]],"start1":761,"start2":761,"length1":24,"length2":25},{"diffs":[[0,"asic.pause(2000)"],[1,"\r\n\r"],[0,"\n    // عرض نسبة"]],"start1":780,"start2":780,"length1":32,"length2":35},{"diffs":[[0,"بة الغاز"],[1,"\r"],[0,"\n    I2C"]],"start1":813,"start2":813,"length1":16,"length2":17},{"diffs":[[0,"Level, 0, 1)"],[1,"\r"],[0,"\n    basic.p"]],"start1":863,"start2":863,"length1":24,"length2":25},{"diffs":[[0,".pause(2000)"],[1,"\r\n\r"],[0,"\n    // التح"]],"start1":886,"start2":886,"length1":24,"length2":27},{"diffs":[[0,"ن الحركة"],[1,"\r"],[0,"\n    if "]],"start1":917,"start2":917,"length1":16,"length2":17},{"diffs":[[0,"d) {"],[-1,"\n        // تشغيل LED"],[1,"\r"],[0,"\n   "]],"start1":948,"start2":948,"length1":29,"length2":9},{"diffs":[[0,"alPin.P2, 1)"],[1," // تشغيل LED\r"],[0,"\n        I2C"]],"start1":988,"start2":988,"length1":24,"length2":38},{"diffs":[[0,"    \", 0, 1)"],[1,"\r\n\r"],[0,"\n        // "]],"start1":1059,"start2":1059,"length1":24,"length2":27},{"diffs":[[0,"من 30 نفتح الباب"],[1,"\r"],[0,"\n        if (tem"]],"start1":1107,"start2":1107,"length1":32,"length2":33},{"diffs":[[0,"0) {"],[-1,"\n            // فتح الباب"],[1,"\r"],[0,"\n   "]],"start1":1145,"start2":1145,"length1":33,"length2":9},{"diffs":[[0,"ngle(90)"],[1," // فتح الباب\r"],[0,"\n       "]],"start1":1177,"start2":1177,"length1":16,"length2":30},{"diffs":[[0,"000)"],[-1,"\n            // إغلاق الباب"],[1,"\r"],[0,"\n   "]],"start1":1225,"start2":1225,"length1":35,"length2":9},{"diffs":[[0,"Angle(0)"],[1,"  // إغلاق الباب\r"],[0,"\n       "]],"start1":1256,"start2":1256,"length1":16,"length2":33},{"diffs":[[0,"ب\r\n        }"],[1,"\r\n\r"],[0,"\n    } else "]],"start1":1279,"start2":1279,"length1":24,"length2":27},{"diffs":[[0,"se {"],[-1,"\n        // إطفاء LED"],[1,"\r"],[0,"\n   "]],"start1":1303,"start2":1303,"length1":29,"length2":9},{"diffs":[[0,"n.P2, 0)"],[1," // إطفاء LED\r"],[0,"\n       "]],"start1":1347,"start2":1347,"length1":16,"length2":30},{"diffs":[[0,"\", 0, 1)"],[1,"\r"],[0,"\n    }"],[1,"\r\n\r"],[0,"\n    bas"]],"start1":1418,"start2":1418,"length1":22,"length2":26},{"diffs":[[0,"000)"],[1,"\r"],[0,"\n})"],[-1,"\n"]],"start1":1454,"start2":1454,"length1":8,"length2":8}]}]},{"timestamp":1748162626095,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"pxt.json","patch":[{"diffs":[[0,"prj\""],[-1,",\n    \"yotta\": {\n        \"config\": {\n            \"microbit-dal\": {\n                \"bluetooth\": {\n                    \"open\": 0,\n                    \"whitelist\": 1,\n                    \"security_level\": \"SECURITY_MODE_ENCRYPTION_WITH_MITM\"\n                }\n            }\n        }\n    }"],[0,"\n}\n"]],"start1":665,"start2":665,"length1":294,"length2":7}]}]},{"timestamp":1748163386337,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"pxt.json","patch":[{"diffs":[[0,"ION_"],[-1,"NO"],[1,"WITH"],[0,"_MIT"]],"start1":894,"start2":894,"length1":10,"length2":12}]}]},{"timestamp":1748163394668,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.ts","patch":[{"diffs":[[0,"let "],[-1,"motionDetected = false;"],[1,"hum = 0\nlet temp = 0"],[0,"\nlet"]],"start1":0,"start2":0,"length1":31,"length2":28},{"diffs":[[0," = 0"],[-1,";"],[0,"\nlet "],[-1,"hum = 0;\nlet uid = \"\";\nlet allowedUID = \"12345678\"; // استبدله بـ UID الحقيقي\n\n// إعداد DHT11\ndht11_dht22.selectTempType(tempType.celsius);\ndht11_dht22.readDataSuccessful();\n\n// تهيئة السيرفو والـ LCD\nservos.P0.setAngle(0); // إغلاق مبدئي"],[1,"motionDetected = false\n// إعداد شاشة LCD"],[0,"\nI2C"]],"start1":37,"start2":37,"length1":252,"length2":53},{"diffs":[[0,"dInit(0)"],[-1,";"],[0,"\nI2C_LCD"]],"start1":101,"start2":101,"length1":17,"length2":16},{"diffs":[[0,"\", 0, 0)"],[-1,";"],[0,"\nbasic.p"]],"start1":150,"start2":150,"length1":17,"length2":16},{"diffs":[[0,"se(2000)"],[-1,";"],[0,"\nI2C_LCD"]],"start1":168,"start2":168,"length1":17,"length2":16},{"diffs":[[0,".clear()"],[-1,";\n"],[0,"\n// إعدا"]],"start1":188,"start2":188,"length1":18,"length2":16},{"diffs":[[0,"داد "],[-1,"RFID\nserial.redirectToUSB();\nMFRC522.Init();\nbasic.showIcon(IconNames.Happy);\n"],[1,"DHT11\ndht11_dht22.selectTempType(tempType.celsius)\n// إغلاق السيرفو مبدئيًا\nservos.P0.setAngle(0)"],[0,"\nbas"]],"start1":202,"start2":202,"length1":86,"length2":105},{"diffs":[[0,"قراءة الحركة"],[1," من PIR"],[0,"\n    motionD"]],"start1":339,"start2":339,"length1":24,"length2":31},{"diffs":[[0,"P1) == 1"],[-1,";"],[0,"\n    // "]],"start1":411,"start2":411,"length1":17,"length2":16},{"diffs":[[0,"ءة الغاز"],[1," من MQ-4"],[0,"\n    gas"]],"start1":430,"start2":430,"length1":16,"length2":24},{"diffs":[[0,"gPin.P4)"],[-1,";"],[0,"\n    // "]],"start1":486,"start2":486,"length1":17,"length2":16},{"diffs":[[0,"طوبة"],[1," من DHT11"],[0,"\n   "],[-1," let"],[0," tem"]],"start1":520,"start2":520,"length1":16,"length2":21},{"diffs":[[0,"erature)"],[-1,";"],[0,"\n    hum"]],"start1":579,"start2":579,"length1":17,"length2":16},{"diffs":[[0,"ity)"],[-1,";\n"],[0,"\n    // "],[-1,"حال"],[1,"عرض درجة الحرار"],[0,"ة "],[1,"و"],[0,"ال"],[-1,"حرك"],[1,"رطوب"],[0,"ة\n    "],[-1,"if (motionDetected) {\n        pins.digitalWritePin(DigitalPin.P2, 1);\n    "],[1,"I2C_LCD1602.ShowString(\"T:\" + temp + \"C H:\" + hum + \"%\", 0, 0)\n    basic.pause(2000)\n    // عرض نسبة الغاز\n"],[0,"    "]],"start1":633,"start2":633,"length1":108,"length2":153},{"diffs":[[0,"ng(\""],[-1,"Motion: Yes     \""],[1,"Gas: \" + gasLevel"],[0,", 0, "],[-1,"0);\n"],[1,"1)"],[0,"\n    "],[-1,"    if (temp < 30) {\n            if (MFRC522.isCard()"],[1,"basic.pause(2000)\n    // التحقق من الحركة\n    if (motionDetected"],[0,") {\n"]],"start1":806,"start2":806,"length1":92,"length2":101},{"diffs":[[0,"    "],[-1,"        MFRC522.readCardSerial();\n                uid = MFRC522.getID(); // تأكد أن getID() ترجع UID كـ String\n                serial.w"],[1,"// تشغيل LED\n        pins.digitalW"],[0,"rite"],[-1,"Line(\"UID: \" + uid);\n\n                if (uid == allowedUID) {\n            "],[1,"Pin(DigitalPin.P2, 1)\n"],[0,"    "]],"start1":911,"start2":911,"length1":222,"length2":68},{"diffs":[[0,"ng(\""],[-1,"Access Granted"],[1,"Motion: Yes    "],[0," \", "]],"start1":1003,"start2":1003,"length1":22,"length2":23},{"diffs":[[0,"Yes     \", 0, 1)"],[-1,";"],[0,"\n               "]],"start1":1015,"start2":1015,"length1":33,"length2":32},{"diffs":[[0,"    "],[-1,"            servos.P0.setAngle(90); // "],[1,"// إذا درجة الحرارة أقل من 30 ن"],[0,"فتح "]],"start1":1036,"start2":1036,"length1":47,"length2":39},{"diffs":[[0,"    "],[-1,"            basic.pause(3000);\n        "],[1,"if (temp < 30) {\n            // فتح الباب\n"],[0,"    "]],"start1":1085,"start2":1085,"length1":47,"length2":50},{"diffs":[[0,"gle("],[1,"9"],[0,"0)"],[-1,";  // إغلاق الباب\n                } else {\n                    I2C_LCD1602.ShowString(\"Access Denied  \", 0, 1);\n                }\n            }\n        } else {\n            I2C_LCD1602.ShowString(\"High Temp!      \", 0, 1);\n        }\n    } else {"],[1,"\n            basic.pause(3000)\n            // إغلاق الباب\n            servos.P0.setAngle(0)\n        }\n    } else {\n        // إطفاء LED"],[0,"\n   "]],"start1":1158,"start2":1158,"length1":255,"length2":146},{"diffs":[[0,"alPin.P2, 0)"],[-1,";"],[0,"\n        I2C"]],"start1":1335,"start2":1335,"length1":25,"length2":24},{"diffs":[[0,", 0,"],[-1," 0);\n        servos.P0.setAngle(0);\n    }\n\n    // عرض بيانات إضافية\n    basic.pause(2000);\n    I2C_LCD1602.ShowString(\"Gas:\" + gasLevel + \" T:\" + temp + \"C\", 0,"],[0," 1)"],[-1,";"],[0,"\n    "],[-1,"basic.pause(2000);\n    I2C_LCD1602.ShowString(\"Humidity:\" + hum + \"%     \", 0, 1);"],[1,"}"],[0,"\n   "]],"start1":1397,"start2":1397,"length1":259,"length2":17},{"diffs":[[0,"000)"],[-1,";"],[0,"\n})"],[-1,";"],[1,"\n"]],"start1":1428,"start2":1428,"length1":9,"length2":8}]}]},{"timestamp":1748163862342,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.ts","patch":[{"diffs":[[0,"t uid = "],[-1,"0"],[1,"\"\""],[0,";\nlet al"]],"start1":61,"start2":61,"length1":17,"length2":18}]}]},{"timestamp":1748165769514,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.ts","patch":[{"diffs":[[0,"t uid = "],[1,"0"],[0,";\nlet al"]],"start1":61,"start2":61,"length1":16,"length2":17}]}]},{"timestamp":1748165925520,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.ts","patch":[{"diffs":[[0,"d = "],[-1,"\"\""],[0,";\nle"]],"start1":65,"start2":65,"length1":10,"length2":8}]},{"type":"edited","filename":"pxt.json","patch":[{"diffs":[[0,"itor\": \""],[-1,"py"],[1,"ts"],[0,"prj\",\n  "]],"start1":655,"start2":655,"length1":18,"length2":18}]},{"type":"edited","filename":"main.py","patch":[{"diffs":[[-1,"from mfrc522 import MFRC522\nfrom microbit import *\nimport machine\nimport utime\nMFRC522.init()\n# --- الإعدادات ---\n# RFID RC522\nrdr = MFRC522(spi_id=0, sck=pin13, mosi=pin15, miso=pin14, rst=pin12, cs=pin16)"],[1,"motionDetected = False\ngasLevel = 0\nhum = 0\nuid = \"\""],[0,"\nallowed"],[-1,"_uid"],[1,"UID"],[0," = \""]],"start1":0,"start2":0,"length1":222,"length2":67},{"diffs":[[0,"2345678\""],[-1,"  "],[1,"\n"],[0,"# استبدل"]],"start1":68,"start2":68,"length1":18,"length2":17},{"diffs":[[0,"بدله"],[-1,"ا"],[0," ب"],[-1,"ال"],[0,"ـ UID ال"],[-1,"خاص بك\n\n# DHT11 على P8\ndht_pin = pin8\n\n# MQ-4 على P4\nmq4_pin = pin4\n\n# PIR Motion Sensor على P1\npir_pin = pin1\n\n# LED أزرق على P2\nled_pin = pin2\nled_pin.write_digital(0)\n\n# Servo على P0\nservo = machine.PWM(machine.Pin(0))\nservo.freq(50)\nservo.duty_u16(1638)  # زاوية 0 درجة (مغلق"],[1,"حقيقي\n# إعداد DHT11\ndht11_dht22.select_temp_type(tempType.CELSIUS)\ndht11_dht22.read_data_successful()\n# تهيئة السيرفو والـ LCD\nservos.P0.set_angle(0)\n# إغلاق مبدئي\nI2C_LCD1602.lcd_init(0)\nI2C_LCD1602.show_string(\"Smart Home Ready\", 0, 0)\nbasic.pause(2000)\nI2C_LCD1602.clear("],[0,")\n"],[-1,"\n"],[0,"# "],[-1,"--- دالة لقراءة DHT11 ---\ndef read_dht11(pin):\n    import dht\n    sensor = dht.DHT11(pin)\n    try:\n        sensor.measure()\n        temp = sensor.temperature()\n        hum = sensor.humidity()\n        return temp, hum\n    except:\n        return None, None\n\n# --- دالة لتحريك السيرفو ---\ndef set_servo_angle(angle):\n    duty"],[1,"إعداد RFID\nserial.redirect_to_usb()\nMFRC522.init()\nbasic.show_icon(IconNames.HAPPY)\n\ndef on_forever():\n    global motionDetected, gasLevel, hum, uid\n    # قراءة الحركة\n    motionDetected"],[0," = "],[1,"p"],[0,"in"],[-1,"t((angle / 180) * 6553 + 1638)\n    servo.duty_u16(duty)\n\n# --- البرنامج الرئيسي ---\ndisplay.scroll(\"Smart Home\")\n\nwhile True:\n    motion = pir_pin.read_digital()\n    gas_level = mq4_pin.read_analog()\n    temp, hum = read_dht11(dht_pin)\n"],[1,"s.digital_read_pin(DigitalPin.P1) == 1\n    # قراءة الغاز\n    gasLevel = pins.analog_read_pin(AnalogPin.P4)\n    # قراءة الحرارة والرطوبة\n    temp = dht11_dht22.read_data(dataType.TEMPERATURE)\n    hum = dht11_dht22.read_data(dataType.HUMIDITY)\n    # حالة الحركة"],[0,"\n   "]],"start1":82,"start2":82,"length1":868,"length2":747},{"diffs":[[0,"f motion"],[1,"Detected"],[0,":\n      "]],"start1":831,"start2":831,"length1":16,"length2":24},{"diffs":[[0,"        "],[-1,"led_pin."],[1,"pins.digital_"],[0,"write_"],[-1,"d"],[1,"pin(D"],[0,"igital"],[-1,"("],[1,"Pin.P2, "],[0,"1)\n     "]],"start1":849,"start2":849,"length1":38,"length2":54},{"diffs":[[0,"    "],[-1,"display.show(\"M\")\n        if temp and temp < 30:\n            (stat, tag_type) = rdr.request(rdr.REQIDL)\n            if stat == rdr.OK:\n                (stat, raw_"],[1,"I2C_LCD1602.show_string(\"Motion: Yes     \", 0, 0)\n        if temp < 30:\n            "],[0,"uid"],[-1,")"],[0," = "],[-1,"rdr.anticoll"],[1,"MFRC522.get_id"],[0,"()\n "]],"start1":902,"start2":902,"length1":189,"length2":112},{"diffs":[[0,"    "],[-1,"    if stat == rdr.OK:\n                    uid = ''.join('{:02X}'.format(x) for x in raw_uid)\n        "],[1,"# تأكد أن getID() ترجع UID كـ String\n            serial.write_line(\"UID: \" + uid)\n            # إغلاق الباب\n"],[0,"    "]],"start1":1021,"start2":1021,"length1":110,"length2":116},{"diffs":[[0,"owed"],[-1,"_uid"],[1,"UID"],[0,":\n  "]],"start1":1158,"start2":1158,"length1":12,"length2":11},{"diffs":[[0,"    "],[-1,"        display.scroll(\"Open\")\n        "],[1,"I2C_LCD1602.show_string(\"Access Granted \", 0, 1)\n"],[0,"    "]],"start1":1179,"start2":1179,"length1":47,"length2":57},{"diffs":[[0,"          se"],[-1,"t_servo"],[1,"rvos.P0.set"],[0,"_angle(90)\n "]],"start1":1238,"start2":1238,"length1":31,"length2":35},{"diffs":[[0,"    "],[-1,"        sleep(3000)\n        "],[1,"# فتح الباب\n                basic.pause(3000)\n"],[0,"    "]],"start1":1284,"start2":1284,"length1":36,"length2":54},{"diffs":[[0,"  se"],[-1,"t_servo"],[1,"rvos.P0.set"],[0,"_ang"]],"start1":1348,"start2":1348,"length1":15,"length2":19},{"diffs":[[0,"        "],[-1,"     "],[-1,"   "],[0,"else:\n  "]],"start1":1377,"start2":1377,"length1":24,"length2":16},{"diffs":[[0,"    "],[-1,"        display.scroll(\"Denied\")\n        else:\n            display.show(\"H\")  # حرارة عالية"],[1,"I2C_LCD1602.show_string(\"Access Denied  \", 0, 1)\n        else:\n            I2C_LCD1602.show_string(\"High Temp!      \", 0, 1)"],[0,"\n   "]],"start1":1403,"start2":1403,"length1":99,"length2":132},{"diffs":[[0,"    "],[-1,"led_pin."],[1,"pins.digital_"],[0,"write_"],[-1,"d"],[1,"pin(D"],[0,"igital"],[-1,"("],[1,"Pin.P2, "],[0,"0)\n "]],"start1":1546,"start2":1546,"length1":30,"length2":46},{"diffs":[[0,"    "],[-1,"display.clear()\n"],[1,"I2C_LCD1602.show_string(\"Motion: No      \", 0, 0)\n        servos.P0.set_angle(0)"],[0,"\n   "]],"start1":1595,"start2":1595,"length1":24,"length2":88},{"diffs":[[0,"عرض "],[-1,"ال"],[0,"بيانات"],[-1,"\n    if temp is not None:\n        display.scroll(\"T:{}C H:{}%\".format(temp, hum))\n    display.scroll(\"Gas:{}\".format(gas_level))\n    sleep(2000)"],[1," إضافية\n    basic.pause(2000)\n    I2C_LCD1602.show_string(\"Gas:\" + str(gasLevel) + \" T:\" + str(temp) + \"C\", 0, 1)\n    basic.pause(2000)\n    I2C_LCD1602.show_string(\"Humidity:\" + str(hum) + \"%     \", 0, 1)\n    basic.pause(2000)\nbasic.forever(on_forever)\n"]],"start1":1686,"start2":1686,"length1":156,"length2":263}]}]},{"timestamp":1748166501749,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.blocks","patch":[{"diffs":[[0,"iables><"],[1,"block type=\"pxt-on-start\" x=\"54\" y=\"4\"><statement name=\"HANDLER\"><block type=\"I2C_LCD1620_SET_ADDRESS\"><comment pinned=\"false\" h=\"80\" w=\"160\">إعداد شاشة LCD</comment><value name=\"addr\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"I2C_LCD1620_SHOW_STRING\"><value name=\"s\"><shadow type=\"text\"><field name=\"TEXT\">Smart Home Ready</field></shadow></value><value name=\"x\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"15\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow></value><value name=\"y\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"1\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow></value><next><block type=\"device_pause\"><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">2000</field></shadow></value><next><block type=\"I2C_LCD1620_CLEAR\"><next><block type=\"dht11_dht22_selectTempType\"><field name=\"temp\">tempType.celsius</field><comment pinned=\"false\" h=\"80\" w=\"160\">إعداد DHT11</comment><next><block type=\"servoservosetangle\"><field name=\"servo\">servos.P0</field><comment pinned=\"false\" h=\"80\" w=\"160\">إغلاق السيرفو مبدئيًا</comment><value name=\"degrees\"><shadow type=\"protractorPicker\"><field name=\"angle\">0</field></shadow></value></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"device_forever\" x=\"205\" y=\"0\"><statement name=\"HANDLER\"><block type=\"variables_set\"><field name=\"VAR\" id=\"3[SQ15#3k:|imRq,]u90\">motionDetected</field><comment pinned=\"false\" h=\"80\" w=\"160\">قراءة الحركة من PIR</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"device_get_digital_pin\"><value name=\"name\"><shadow type=\"digital_pin_shadow\"><field name=\"pin\">DigitalPin.P1</field></shadow></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"~AN3Y)$jT4mU1XK%gx[9\">gasLevel</field><comment pinned=\"false\" h=\"80\" w=\"160\">قراءة الغاز من MQ-4</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"device_get_analog_pin\"><value name=\"name\"><shadow type=\"analog_read_write_pin_shadow\"><field name=\"pin\">AnalogReadWritePin.P0</field></shadow><block type=\"analog_pin\"><field name=\"pin\">AnalogPin.P4</field></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"7MB0ca4%wonnWK4dIH.G\">temp</field><comment pinned=\"false\" h=\"80\" w=\"160\">قراءة الحرارة والرطوبة من DHT11</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"dht11_dht22_readData\"><field name=\"data\">dataType.temperature</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"F2%1e;5e=qjB4XrzU+s#\">hum</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"dht11_dht22_readData\"><field name=\"data\">dataType.humidity</field></block></value><next><block type=\"I2C_LCD1620_SHOW_STRING\"><comment pinned=\"false\" h=\"80\" w=\"160\">عرض درجة الحرارة والرطوبة</comment><value name=\"s\"><block type=\"text_join\" inline=\"false\"><mutation items=\"5\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">T:</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"7MB0ca4%wonnWK4dIH.G\">temp</field></block></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\">C H:</field></shadow></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"F2%1e;5e=qjB4XrzU+s#\">hum</field></block></value><value name=\"ADD4\"><shadow type=\"text\"><field name=\"TEXT\">%</field></shadow></value></block></value><value name=\"x\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"15\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow></value><value name=\"y\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"1\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow></value><next><block type=\"device_pause\"><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">2000</field></shadow></value><next><block type=\"I2C_LCD1620_SHOW_STRING\"><comment pinned=\"false\" h=\"80\" w=\"160\">عرض نسبة الغاز</comment><value name=\"s\"><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">Gas: </field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"~AN3Y)$jT4mU1XK%gx[9\">gasLevel</field></block></value></block></value><value name=\"x\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"15\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow></value><value name=\"y\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"1\" precision=\"0\"></mutation><field name=\"SLIDER\">1</field></shadow></value><next><block type=\"device_pause\"><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">2000</field></shadow></value><next><block type=\"controls_if\"><mutation else=\"1\"></mutation><comment pinned=\"false\" h=\"80\" w=\"160\">التحقق من الحركة</comment><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"3[SQ15#3k:|imRq,]u90\">motionDetected</field></block></value><statement name=\"DO0\"><block type=\"device_set_digital_pin\"><comment pinned=\"false\" h=\"80\" w=\"160\">تشغيل LED</comment><value name=\"name\"><shadow type=\"digital_pin_shadow\"><field name=\"pin\">DigitalPin.P2</field></shadow></value><value name=\"value\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"1\" precision=\"0\"></mutation><field name=\"SLIDER\">1</field></shadow></value><next><block type=\"I2C_LCD1620_SHOW_STRING\"><data>{\"commentRefs\":[],\"fieldData\":{}}</data><value name=\"s\"><shadow type=\"text\"><field name=\"TEXT\">Motion: Yes     </field></shadow></value><value name=\"x\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"15\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow></value><value name=\"y\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"1\" precision=\"0\"></mutation><field name=\"SLIDER\">1</field></shadow></value><next><block type=\"controls_if\"><comment pinned=\"false\" h=\"80\" w=\"160\">إذا درجة الحرارة أقل من 30 نفتح الباب</comment><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">LT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"7MB0ca4%wonnWK4dIH.G\">temp</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">30</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"servoservosetangle\"><field name=\"servo\">servos.P0</field><comment pinned=\"false\" h=\"80\" w=\"160\">فتح الباب</comment><value name=\"degrees\"><shadow type=\"protractorPicker\"><field name=\"angle\">90</field></shadow></value><next><block type=\"device_pause\"><data>{\"commentRefs\":[],\"fieldData\":{}}</data><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">3000</field></shadow></value><next><block type=\"servoservosetangle\"><field name=\"servo\">servos.P0</field><comment pinned=\"false\" h=\"80\" w=\"160\">إغلاق الباب</comment><value name=\"degrees\"><shadow type=\"protractorPicker\"><field name=\"angle\">0</field></shadow></value></block></next></block></next></block></statement></block></next></block></next></block></statement><statement name=\"ELSE\"><block type=\"device_set_digital_pin\"><comment pinned=\"false\" h=\"80\" w=\"160\">إطفاء LED</comment><value name=\"name\"><shadow type=\"digital_pin_shadow\"><field name=\"pin\">DigitalPin.P2</field></shadow></value><value name=\"value\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"1\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow></value><next><block type=\"I2C_LCD1620_SHOW_STRING\"><data>{\"commentRefs\":[],\"fieldData\":{}}</data><value name=\"s\"><shadow type=\"text\"><field name=\"TEXT\">Motion: No      </field></shadow></value><value name=\"x\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"15\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow></value><value name=\"y\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"1\" precision=\"0\"></mutation><field name=\"SLIDER\">1</field></shadow></value></block></next></block></statement><next><block type=\"device_pause\"><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">2000</field></shadow></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><"],[0,"/xml>"]],"start1":288,"start2":288,"length1":13,"length2":8996}]},{"type":"edited","filename":"pxt.json","patch":[{"diffs":[[0," ],\n"],[-1,"    \"testFiles\": [\n        \"test.ts\"\n    ],\n"],[0,"    "]],"start1":635,"start2":635,"length1":52,"length2":8},{"diffs":[[0,"itor\": \""],[-1,"ts"],[1,"py"],[0,"prj\",\n  "]],"start1":655,"start2":655,"length1":18,"length2":18}]},{"type":"edited","filename":"main.py","patch":[{"diffs":[[-1,"motionDetected = False\ngasLevel = 0\nhum = 0\nuid = \"\""],[1,"from mfrc522 import MFRC522\nfrom microbit import *\nimport machine\nimport utime\nMFRC522.init()\n# --- الإعدادات ---\n# RFID RC522\nrdr = MFRC522(spi_id=0, sck=pin13, mosi=pin15, miso=pin14, rst=pin12, cs=pin16)"],[0,"\nallowed"],[-1,"UID"],[1,"_uid"],[0," = \""]],"start1":0,"start2":0,"length1":67,"length2":222},{"diffs":[[0,"2345678\""],[-1,"\n"],[1,"  "],[0,"# استبدل"]],"start1":223,"start2":223,"length1":17,"length2":18},{"diffs":[[0,"بدله"],[1,"ا"],[0," ب"],[1,"ال"],[0,"ـ UID ال"],[-1,"حقيقي\n# إعداد DHT11\ndht11_dht22.select_temp_type(tempType.CELSIUS)\ndht11_dht22.read_data_successfu"],[1,"خاص بك\n\n# DHT11 على P8\ndht_pin = pin8\n\n# MQ-4 على P4\nmq4_pin = pin4\n\n# PIR Motion Sensor على P1\npir_pin = pin1\n\n# LED أزرق على P2\nled_pin = pin2\nled_pin.write_digita"],[0,"l("],[1,"0"],[0,")\n"],[1,"\n"],[0,"# "],[-1,"تهيئة السيرفو والـ LCD\nservos.P0.set_angle(0)\n# إغلاق مبدئي\nI2C_LCD1602.lcd_init(0)\nI2C_LCD1602.show_string(\"Smart Home Ready\", 0, 0)\nbasic.pause(2000)\nI2C_LCD1602.clear()\n# إعداد RFID\nserial.redirect_to_usb()\nMFRC522.init()\nbasic.show_icon(IconNames.HAPPY)\n\ndef on_forever"],[1,"Servo على P0\nservo = machine.PWM(machine.Pin(0))\nservo.freq(50)\nservo.duty_u16(1638)  # زاوية 0 درجة (مغلق)\n\n# --- دالة لقراءة DHT11 ---\ndef read_dht11(pin):\n    import dht\n    sensor = dht.DHT11(pin)\n    try:\n        sensor.measure()\n        temp = sensor.temperature"],[0,"()"],[-1,":"],[0,"\n    "],[-1,"global motionDetected, gasLevel, hum, uid\n    # قراءة الحركة\n    motionDetected"],[1,"    hum = sensor.humidity()\n        return temp, hum\n    except:\n        return None, None\n\n# --- دالة لتحريك السيرفو ---\ndef set_servo_angle(angle):\n    duty"],[0," = "],[-1,"p"],[0,"in"],[-1,"s.digital_read_pin(DigitalPin.P1) == 1\n    # قراءة الغاز\n    gasLevel = pins.analog_read_pin(AnalogPin.P4)\n    # قراءة الحرارة والرطوبة\n    temp = dht11_dht22.read_data(dataType.TEMPERATURE)\n    hum = dht11_dht22.read_data(dataType.HUMIDITY)\n    # حالة الحركة"],[1,"t((angle / 180) * 6553 + 1638)\n    servo.duty_u16(duty)\n\n# --- البرنامج الرئيسي ---\ndisplay.scroll(\"Smart Home\")\n\nwhile True:\n    motion = pir_pin.read_digital()\n    gas_level = mq4_pin.read_analog()\n    temp, hum = read_dht11(dht_pin)\n"],[0,"\n   "]],"start1":238,"start2":238,"length1":747,"length2":868},{"diffs":[[0,"tion"],[-1,"Detected"],[0,":\n  "]],"start1":1112,"start2":1112,"length1":16,"length2":8},{"diffs":[[0,"    "],[-1,"pins.digital_"],[1,"led_pin."],[0,"write_"],[-1,"pin(D"],[1,"d"],[0,"igital"],[-1,"Pin.P2, "],[1,"("],[0,"1)\n "]],"start1":1122,"start2":1122,"length1":46,"length2":30},{"diffs":[[0,"    "],[-1,"I2C_LCD1602.show_string(\"Motion: Yes     \", 0, 0"],[1,"display.show(\"M\""],[0,")\n  "]],"start1":1155,"start2":1155,"length1":56,"length2":24},{"diffs":[[0,"if temp "],[1,"and temp "],[0,"< 30:\n  "]],"start1":1185,"start2":1185,"length1":16,"length2":25},{"diffs":[[0,"    "],[-1,"if MFRC522.isCard():\n                MFRC522.readCardSerial()"],[1,"(stat, tag_type) = rdr.request(rdr.REQIDL)\n            if stat == rdr.OK:"],[0,"\n   "]],"start1":1216,"start2":1216,"length1":69,"length2":81},{"diffs":[[0,"    "],[1,"(stat, raw_"],[0,"uid"],[1,")"],[0," = "],[-1,"MFRC522.get_id"],[1,"rdr.anticoll"],[0,"()\n "]],"start1":1306,"start2":1306,"length1":28,"length2":38},{"diffs":[[0,"    "],[-1,"# تأكد أن getID() ترجع UID كـ String\n                serial.write_line(\"UID: \" + "],[1,"if stat == rdr.OK:\n                    uid = ''.join('{:02X}'.format(x) for x in raw_"],[0,"uid)"]],"start1":1355,"start2":1355,"length1":89,"length2":93},{"diffs":[[0,"    "],[-1," "],[-1,"   # إغلاق الباب\n        "],[0,"    "]],"start1":1457,"start2":1457,"length1":34,"length2":8},{"diffs":[[0,"owed"],[-1,"UID:\n"],[1,"_uid:\n   "],[0,"    "]],"start1":1482,"start2":1482,"length1":13,"length2":17},{"diffs":[[0,"    "],[-1,"I2C_LCD1602.show_string(\"Access Granted \", 0, 1"],[1," display.scroll(\"Open\""],[0,")\n  "]],"start1":1511,"start2":1511,"length1":55,"length2":30},{"diffs":[[0,"            "],[-1,"servos.P0.set"],[1,"    set_servo"],[0,"_angle(90)\n "]],"start1":1547,"start2":1547,"length1":37,"length2":37},{"diffs":[[0,"    "],[-1," "],[-1,"# فتح الباب\n                    basic.pause"],[1,"     sleep"],[0,"(300"]],"start1":1598,"start2":1598,"length1":52,"length2":18},{"diffs":[[0,"            "],[-1,"servos.P0.set"],[1,"    set_servo"],[0,"_angle(0)\n  "]],"start1":1627,"start2":1627,"length1":37,"length2":37},{"diffs":[[0,"vo_angle(0)\n"],[1,"    "],[0,"            "]],"start1":1650,"start2":1650,"length1":24,"length2":28},{"diffs":[[0,"    "],[-1,"I2C_LCD1602.show_string(\"Access Denied  \", 0, 1)\n        else:\n            I2C_LCD1602.show_string(\"High Temp!      \", 0, 1)"],[1,"    display.scroll(\"Denied\")\n        else:\n            display.show(\"H\")  # حرارة عالية"],[0,"\n   "]],"start1":1704,"start2":1704,"length1":132,"length2":95},{"diffs":[[0,"    "],[-1,"pins.digital_"],[1,"led_pin."],[0,"write_"],[-1,"pin(D"],[1,"d"],[0,"igital"],[-1,"Pin.P2, "],[1,"("],[0,"0)\n "]],"start1":1810,"start2":1810,"length1":46,"length2":30},{"diffs":[[0,"    "],[-1,"I2C_LCD1602.show_string(\"Motion: No      \", 0, 0)\n        servos.P0.set_angle(0)"],[1,"display.clear()\n"],[0,"\n   "]],"start1":1843,"start2":1843,"length1":88,"length2":24},{"diffs":[[0,"عرض "],[1,"ال"],[0,"بيانات"],[-1," إضافية\n    basic.pause(2000)\n    I2C_LCD1602.show_string(\"Gas:\" + str(gasLevel) + \" T:\" + str(temp) + \"C\", 0, 1)\n    basic.pause(2000)\n    I2C_LCD1602.show_string(\"Humidity:\" + str(hum) + \"%     \", 0, 1)\n    basic.pause(2000)\nbasic.forever(on_forever)\n"],[1,"\n    if temp is not None:\n        display.scroll(\"T:{}C H:{}%\".format(temp, hum))\n    display.scroll(\"Gas:{}\".format(gas_level))\n    sleep(2000)"]],"start1":1870,"start2":1870,"length1":263,"length2":156}]},{"type":"added","filename":"test.ts","value":"// tests go here; this will not be compiled when this package is used as an extension.\n"}]}],"snapshots":[{"timestamp":1748102105396,"editorVersion":"7.0.61","text":{"main.blocks":"<xml xmlns=\"http://www.w3.org/1999/xhtml\">\n  <block type=\"pxt-on-start\"></block>\n  <block type=\"device_forever\"></block>\n</xml>","main.ts":"\n","README.md":"","pxt.json":"{\n    \"name\": \"smart home\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"core\": \"*\",\n        \"radio\": \"*\",\n        \"microphone\": \"*\"\n    },\n    \"files\": [\n        \"main.blocks\",\n        \"main.ts\",\n        \"README.md\"\n    ],\n    \"additionalFilePaths\": []\n}\n"}},{"timestamp":1748104054744,"editorVersion":"7.0.61","text":{"main.blocks":"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables></variables><block type=\"pxt-on-start\" x=\"20\" y=\"20\"></block><block type=\"device_forever\" x=\"225\" y=\"20\"></block></xml>","main.ts":"let motionDetected = false\nlet lcd: grove.\n\n// إعداد شاشة LCD Grove (I2C): SDA = P20، SCL = P19\nlcd = grove.createDisplay(DigitalPin.P20, DigitalPin.P19)\n\n// رسالة ترحيبية\nlcd.setCursor(0, 0)\nlcd.showString(\"Smart Home Ready\")\n\nbasic.forever(function () {\n    motionDetected = pins.digitalReadPin(DigitalPin.P1) == 1\n\n    if (motionDetected) {\n        pins.digitalWritePin(DigitalPin.P2, 1)\n        basic.showIcon(IconNames.Happy)\n        lcd.setCursor(0, 1)\n        lcd.showString(\"Motion Detected \")\n    } else {\n        pins.digitalWritePin(DigitalPin.P2, 0)\n        basic.clearScreen()\n        lcd.setCursor(0, 1)\n        lcd.showString(\"No Motion      \")\n    }\n\n    basic.pause(500)\n})\n","README.md":"","main.py":"motionDetected = False\nlcd: grove.LCD1602 = None\n# إنشاء شاشة LCD على المنافذ I2C (SDA = P20، SCL = P19)\nlcd = grove.createDisplay(DigitalPin.P20, DigitalPin.P19)\n# عرض رسالة البداية على السطر الأول\nlcd.setCursor(0, 0)\nlcd.showString(\"Smart Home Ready\")\n\ndef on_forever():\n    global motionDetected\n    # قراءة إشارة من حساس الحركة PIR الموصول على P1\n    motionDetected = pins.digital_read_pin(DigitalPin.P1) == 1\n    # عرض على LCD\n    # مسح السطر بفراغات\n    if motionDetected:\n        # إذا اكتشفنا حركة:\n        pins.digital_write_pin(DigitalPin.P2, 1)\n        # تشغيل LED على P2\n        basic.show_icon(IconNames.HAPPY)\n        # عرض رمز وجه سعيد\n        lcd.setCursor(0, 1)\n        lcd.showString(\"Motion Detected \")\n    else:\n        # إذا ما في حركة:\n        pins.digital_write_pin(DigitalPin.P2, 0)\n        # إطفاء LED\n        basic.clear_screen()\n        # مسح شاشة Micro:bit\n        lcd.setCursor(0, 1)\n        lcd.showString(\"No Motion      \")\n    basic.pause(500)\nbasic.forever(on_forever)\n\n# انتظار نصف ثانية","pxt.json":"{\n    \"name\": \"smart home\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"core\": \"*\",\n        \"radio\": \"*\",\n        \"microphone\": \"*\",\n        \"Grove\": \"github:seeed-studio/pxt-grove#v0.7.0\"\n    },\n    \"files\": [\n        \"main.blocks\",\n        \"main.ts\",\n        \"README.md\",\n        \"main.py\"\n    ],\n    \"preferredEditor\": \"tsprj\"\n}\n"}},{"timestamp":1748105888074,"editorVersion":"7.0.61","text":{"main.blocks":"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables></variables><block type=\"pxt-on-start\" x=\"20\" y=\"20\"></block><block type=\"device_forever\" x=\"225\" y=\"20\"></block></xml>","main.ts":"\nI2C_LCD1602.LcdInit(0)\nlet motionDetected = false\nI2C_LCD1602.LcdInit(0) // تهيئة الشاشة\nI2C_LCD1602.ShowString(\"Hello, World!\", 0, 0) // عرض النص على السطر الأوI2C_LCD1602.LcdInit(0) // تهيئة الشاشة\n\n\n// إعداد شاشة LCD Grove (I2C): SDA = P20، SCL = P19\n\n\n// رسالة ترحيبية\nlcd.setCursor(0, 0)\nlcd.showString(\"Smart Home Ready\")\n\nbasic.forever(function () {\n    motionDetected = pins.digitalReadPin(DigitalPin.P1) == 1\n\n    if (motionDetected) {\n        pins.digitalWritePin(DigitalPin.P2, 1)\n        basic.showIcon(IconNames.Happy)\n        lcd.setCursor(0, 1)\n        lcd.showString(\"Motion Detected \")\n    } else {\n        pins.digitalWritePin(DigitalPin.P2, 0)\n        basic.clearScreen()\n        lcd.setCursor(0, 1)\n        lcd.showString(\"No Motion      \")\n    }\n\n    basic.pause(500)\n})\n","README.md":"","main.py":"grove\nmotionDetected = False\nlcd: grove.LCD1602 = None\nlcd = grove.create_display(DigitalPin.P20, DigitalPin.P19)\n# إعداد شاشة LCD Grove (I2C): SDA = P20، SCL = P19\n# رسالة ترحيبية\nlcd.setCursor(0, 0)\nlcd.showString(\"Smart Home Ready\")\n\ndef on_forever():\n    global motionDetected\n    motionDetected = pins.digital_read_pin(DigitalPin.P1) == 1\n    if motionDetected:\n        pins.digital_write_pin(DigitalPin.P2, 1)\n        basic.show_icon(IconNames.HAPPY)\n        lcd.setCursor(0, 1)\n        lcd.showString(\"Motion Detected \")\n    else:\n        pins.digital_write_pin(DigitalPin.P2, 0)\n        basic.clear_screen()\n        lcd.setCursor(0, 1)\n        lcd.showString(\"No Motion      \")\n    basic.pause(500)\nbasic.forever(on_forever)\n","pxt.json":"{\n    \"name\": \"smart home\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"core\": \"*\",\n        \"radio\": \"*\",\n        \"microphone\": \"*\",\n        \"Grove\": \"github:seeed-studio/pxt-grove#v0.7.0\",\n        \"pxt-rekabit-rbt-project-kit\": \"github:cytrontechnologies/pxt-rekabit-rbt-project-kit#v1.1.4\",\n        \"i2cLCD1602\": \"github:makecode-extensions/i2cLCD1602#v1.5.0\"\n    },\n    \"files\": [\n        \"main.blocks\",\n        \"main.ts\",\n        \"README.md\",\n        \"main.py\"\n    ],\n    \"preferredEditor\": \"tsprj\"\n}\n"}},{"timestamp":1748107714290,"editorVersion":"7.0.61","text":{"main.blocks":"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables></variables><block type=\"pxt-on-start\" x=\"20\" y=\"20\"></block><block type=\"device_forever\" x=\"225\" y=\"20\"></block></xml>","main.ts":"let motionDetected = false\nlet gasLevel = 0\nlet temp = 0\nlet hum = 0\n// تهيئة شاشة LCD\nI2C_LCD1602.LcdInit(0)\nI2C_LCD1602.ShowString(\"Smart Home Ready\", 0, 0)\nbasic.pause(2000)\nI2C_LCD1602.clear()\nservos.P0.setAngle(90)\nbasic.forever(function () {\n    // قراءة الحركة من حساس PIR على P1\n    motionDetected = pins.digitalReadPin(DigitalPin.P1) == 1\n\n    // قراءة الغاز من MQ-4 على P0\n    gasLevel = pins.analogReadPin(AnalogPin.P0)\n\n    // قراءة الحرارة والرطوبة من DHT11 على P8\n    temp = DHT11.readTemperature(DigitalPin.P8)\n    hum = DHT11.readHumidity(DigitalPin.P8)\n\n    // عرض حالة الحركة على السطر الأول\n    if (motionDetected) {\n        pins.digitalWritePin(DigitalPin.P2, 1)\n        basic.showIcon(IconNames.Happy)\n        I2C_LCD1602.ShowString(\"Motion: Yes     \", 0, 0)\n\n        // إذا الحرارة تحت 30 نفتح الباب (سيرفو)\n        if (temp < 30) {\n            servos.P3.setAngle(90) // فتح الباب\n        } else {\n            servos.P3.setAngle(0) // إبقاءه مغلق\n        }\n    } else {\n        pins.digitalWritePin(DigitalPin.P2, 0)\n        basic.clearScreen()\n        I2C_LCD1602.ShowString(\"Motion: No      \", 0, 0)\n        servos.P3.setAngle(0) // الباب مغلق\n    }\n\n    // عرض معلومات الغاز والحرارة والرطوبة على السطر الثاني\n    I2C_LCD1602.ShowString(\"Gas:\" + gasLevel + \" T:\" + temp + \"C\", 0, 1)\n    basic.pause(2000)\n    I2C_LCD1602.ShowString(\"Humidity: \" + hum + \"% \", 0, 1)\n    basic.pause(2000)\n})","README.md":"","main.py":"grove\nmotionDetected = False\nlcd: grove.LCD1602 = None\nlcd = grove.create_display(DigitalPin.P20, DigitalPin.P19)\n# إعداد شاشة LCD Grove (I2C): SDA = P20، SCL = P19\n# رسالة ترحيبية\nlcd.setCursor(0, 0)\nlcd.showString(\"Smart Home Ready\")\n\ndef on_forever():\n    global motionDetected\n    motionDetected = pins.digital_read_pin(DigitalPin.P1) == 1\n    if motionDetected:\n        pins.digital_write_pin(DigitalPin.P2, 1)\n        basic.show_icon(IconNames.HAPPY)\n        lcd.setCursor(0, 1)\n        lcd.showString(\"Motion Detected \")\n    else:\n        pins.digital_write_pin(DigitalPin.P2, 0)\n        basic.clear_screen()\n        lcd.setCursor(0, 1)\n        lcd.showString(\"No Motion      \")\n    basic.pause(500)\nbasic.forever(on_forever)\n","pxt.json":"{\n    \"name\": \"smart home\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"core\": \"*\",\n        \"radio\": \"*\",\n        \"microphone\": \"*\",\n        \"Grove\": \"github:seeed-studio/pxt-grove#v0.7.0\",\n        \"pxt-rekabit-rbt-project-kit\": \"github:cytrontechnologies/pxt-rekabit-rbt-project-kit#v1.1.4\",\n        \"i2cLCD1602\": \"github:makecode-extensions/i2cLCD1602#v1.5.0\",\n        \"pxt-DHT11_DHT22\": \"github:alankrantas/pxt-dht11_dht22#v0.0.3\",\n        \"servo\": \"*\"\n    },\n    \"files\": [\n        \"main.blocks\",\n        \"main.ts\",\n        \"README.md\",\n        \"main.py\"\n    ],\n    \"preferredEditor\": \"tsprj\"\n}\n"}},{"timestamp":1748109516301,"editorVersion":"7.0.61","text":{"main.blocks":"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables></variables><block type=\"pxt-on-start\" x=\"20\" y=\"20\"></block><block type=\"device_forever\" x=\"225\" y=\"20\"></block></xml>","main.ts":"let motionDetected = false\nlet gasLevel = 0\nlet temp = 0\nlet hum = 0\nlet uid = \"\"\nlet allowedUID = \"A1B2C3D4\" // غيّر هذا إلى UID بطاقتك\n\n// تهيئة شاشة LCD\nI2C_LCD1602.LcdInit(0)\nI2C_LCD1602.ShowString(\"Smart Home Ready\", 0, 0)\nbasic.pause(2000)\nI2C_LCD1602.clear()\n\n// تهيئة محرك السيرفو (الباب مغلق بالبداية)\npins.servoWritePin(AnalogPin.P3, 0)\n\n// تهيئة الاتصال التسلسلي لعرض UID\nserial.redirectToUSB()\nbasic.showIcon(IconNames.EighthNote)\n\nbasic.forever(function () {\n    // قراءة الحركة من حساس PIR على P1\n    motionDetected = pins.digitalReadPin(DigitalPin.P1) == 1\n\n    // قراءة الغاز من MQ-4 على P0\n    gasLevel = pins.analogReadPin(AnalogPin.P0)\n\n    // قراءة الحرارة والرطوبة من DHT11 على P8\n    temp = DHT11_dht11.readTemperature(DigitalPin.P8)\n    hum = DHT11_dht11.readHumidity(DigitalPin.P8)\n\n    // عرض حالة الحركة على السطر الأول\n    if (motionDetected) {\n        pins.digitalWritePin(DigitalPin.P2, 1)\n        I2C_LCD1602.ShowString(\"Motion: Yes     \", 0, 0)\n\n        // إذا الحرارة تحت 30 نفتح الباب (سيرفو) بعد التحقق من UID\n        if (temp < 30) {\n            if (MFRC522.isCard()) {\n                MFRC522.readCardSerial()\n                uid = MFRC522.getUid()\n                serial.writeLine(\"UID: \" + uid)\n                basic.showString(uid)\n\n                if (uid == allowedUID) {\n                    I2C_LCD1602.ShowString(\"Access Granted  \", 0, 1)\n                    pins.servoWritePin(AnalogPin.P3, 90) // فتح الباب\n                    basic.pause(3000)\n                    pins.servoWritePin(AnalogPin.P3, 0)  // إغلاق الباب\n                } else {\n                    I2C_LCD1602.ShowString(\"Access Denied   \", 0, 1)}\n            }\n        }\n    }\n    else{\n        pins.digitalWritePin(DigitalPin.P2,0)\n        I2C_LCD1602.ShowString(\"Motion:\")\n    }","README.md":"","main.py":"grove\nmotionDetected = False\nlcd: grove.LCD1602 = None\nlcd = grove.create_display(DigitalPin.P20, DigitalPin.P19)\n# إعداد شاشة LCD Grove (I2C): SDA = P20، SCL = P19\n# رسالة ترحيبية\nlcd.setCursor(0, 0)\nlcd.showString(\"Smart Home Ready\")\n\ndef on_forever():\n    global motionDetected\n    motionDetected = pins.digital_read_pin(DigitalPin.P1) == 1\n    if motionDetected:\n        pins.digital_write_pin(DigitalPin.P2, 1)\n        basic.show_icon(IconNames.HAPPY)\n        lcd.setCursor(0, 1)\n        lcd.showString(\"Motion Detected \")\n    else:\n        pins.digital_write_pin(DigitalPin.P2, 0)\n        basic.clear_screen()\n        lcd.setCursor(0, 1)\n        lcd.showString(\"No Motion      \")\n    basic.pause(500)\nbasic.forever(on_forever)\n","pxt.json":"{\n    \"name\": \"smart home\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"core\": \"*\",\n        \"radio\": \"*\",\n        \"microphone\": \"*\",\n        \"Grove\": \"github:seeed-studio/pxt-grove#v0.7.0\",\n        \"pxt-rekabit-rbt-project-kit\": \"github:cytrontechnologies/pxt-rekabit-rbt-project-kit#v1.1.4\",\n        \"i2cLCD1602\": \"github:makecode-extensions/i2cLCD1602#v1.5.0\",\n        \"pxt-DHT11_DHT22\": \"github:alankrantas/pxt-dht11_dht22#v0.0.3\",\n        \"servo\": \"*\",\n        \"pxt-mfrc522\": \"github:joy-it/pxt-rfid-mfrc522#1.0.1\"\n    },\n    \"files\": [\n        \"main.blocks\",\n        \"main.ts\",\n        \"README.md\",\n        \"main.py\"\n    ],\n    \"preferredEditor\": \"tsprj\"\n}\n"}},{"timestamp":1748111351072,"editorVersion":"7.0.61","text":{"main.blocks":"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables></variables><block type=\"pxt-on-start\" x=\"20\" y=\"20\"></block><block type=\"device_forever\" x=\"225\" y=\"20\"></block></xml>","main.ts":"let motionDetected = false\nlet gasLevel = 0\nlet temp = 0\nlet hum = 0\nlet uid = \"\"\nlet allowedUID = \"A1B2C3D4\" // استبدل هذا بالـ UID من بطاقتك\nI2C_LCD1602.LcdInit(0)\n// LCD\nI2C_LCD1602.LcdInit(0)\nI2C_LCD1602.ShowString(\"Smart Home Ready\", 0, 0)\nbasic.pause(2000)\nI2C_LCD1602.clear()\ndht11_dht22.readDataSuccessful()\n// RFID تهيئة\nMFRC522.Init()\nserial.redirectToUSB() // لإظهار الـ UID\nMFRC522.Init()\nservos.P0.setAngle(90)\n// السيرفو (الباب مغلق)\nservos.P3.setAngle(0)\n\nbasic.forever(function () {\n    // قراءة الحركة من PIR على P1\n    motionDetected = pins.digitalReadPin(DigitalPin.P1) == 1\n\n    // قراءة الغاز من MQ-4 على P0\n    gasLevel = pins.analogReadPin(AnalogPin.P0)\n\n    // قراءة الحرارة والرطوبة من DHT11 على P8\n    temp = dht11_dht22.readTemperature(DigitalPin.P8)\n    hum = dht11_dht22.readHumidity(DigitalPin.P8)\n\n    if (motionDetected) {\n        pins.digitalWritePin(DigitalPin.P2, 1)\n        I2C_LCD1602.ShowString(\"Motion: Yes     \", 0, 0)\n\n        if (temp < 30) {\n            if (MFRC522.isCard()) {\n                MFRC522.readCardSerial()\n                uid = MFRC522.getUid()\n                serial.writeLine(\"UID: \" + uid)\n\n                if (uid == allowedUID) {\n                    I2C_LCD1602.ShowString(\"Access Granted  \", 0, 1)\n                    servos.P3.setAngle(90)\n                    basic.pause(3000)\n                    servos.P3.setAngle(0)\n                } else {\n                    I2C_LCD1602.ShowString(\"Access Denied   \", 0, 1)\n                }\n            }\n        }\n    } else {\n        pins.digitalWritePin(DigitalPin.P2, 0)\n        I2C_LCD1602.ShowString(\"Motion: No      \", 0, 0)\n        servos.P3.setAngle(0)\n    }\n\n    // عرض معلومات الغاز والحرارة والرطوبة\n    I2C_LCD1602.ShowString(\"Gas:\" + gasLevel + \" T:\" + temp + \"C\", 0, 1)\n    basic.pause(2000)\n    I2C_LCD1602.ShowString(\"Humidity: \" + hum + \"% \", 0, 1)\n    basic.pause(2000)\n})","README.md":"","main.py":"grove\nmotionDetected = False\nlcd: grove.LCD1602 = None\nlcd = grove.create_display(DigitalPin.P20, DigitalPin.P19)\n# إعداد شاشة LCD Grove (I2C): SDA = P20، SCL = P19\n# رسالة ترحيبية\nlcd.setCursor(0, 0)\nlcd.showString(\"Smart Home Ready\")\n\ndef on_forever():\n    global motionDetected\n    motionDetected = pins.digital_read_pin(DigitalPin.P1) == 1\n    if motionDetected:\n        pins.digital_write_pin(DigitalPin.P2, 1)\n        basic.show_icon(IconNames.HAPPY)\n        lcd.setCursor(0, 1)\n        lcd.showString(\"Motion Detected \")\n    else:\n        pins.digital_write_pin(DigitalPin.P2, 0)\n        basic.clear_screen()\n        lcd.setCursor(0, 1)\n        lcd.showString(\"No Motion      \")\n    basic.pause(500)\nbasic.forever(on_forever)\n","pxt.json":"{\n    \"name\": \"smart home\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"core\": \"*\",\n        \"radio\": \"*\",\n        \"microphone\": \"*\",\n        \"Grove\": \"github:seeed-studio/pxt-grove#v0.7.0\",\n        \"pxt-rekabit-rbt-project-kit\": \"github:cytrontechnologies/pxt-rekabit-rbt-project-kit#v1.1.4\",\n        \"i2cLCD1602\": \"github:makecode-extensions/i2cLCD1602#v1.5.0\",\n        \"pxt-DHT11_DHT22\": \"github:alankrantas/pxt-dht11_dht22#v0.0.3\",\n        \"servo\": \"*\",\n        \"pxt-mfrc522\": \"github:joy-it/pxt-rfid-mfrc522#1.0.1\"\n    },\n    \"files\": [\n        \"main.blocks\",\n        \"main.ts\",\n        \"README.md\",\n        \"main.py\"\n    ],\n    \"preferredEditor\": \"tsprj\"\n}\n"}},{"timestamp":1748113327851,"editorVersion":"7.0.61","text":{"main.blocks":"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables></variables><block type=\"pxt-on-start\" x=\"20\" y=\"20\"></block><block type=\"device_forever\" x=\"225\" y=\"20\"></block></xml>","main.ts":"MFRC522.Init()\r\nI2C_LCD1602.LcdInit(0)\r\ndht11_dht22.readDataSuccessful()\r\nlet motionDetected = false\r\nlet gasLevel = 0\r\nlet temp = 0\r\nlet hum = 0\r\nlet uid = \"\"\r\nlet allowedUID = \"A1B2C3D4\" // غيّر هذا إلى UID الخاص ببطاقتك\r\n\r\n// تهيئة الشاشة\r\nI2C_LCD1602.LcdInit(0)\r\nI2C_LCD1602.ShowString(\"Smart Home Ready\", 0, 0)\r\nbasic.pause(2000)\r\nI2C_LCD1602.clear()\r\n\r\n// تهيئة محرك الباب\r\nservos.P0.setAngle(0)\r\n\r\n// تهيئة RFID\r\nRFID.Init(DigitalPin.P16, DigitalPin.P15)\r\nserial.redirectToUSB()\r\nbasic.showIcon(IconNames.Happy)\r\n\r\nbasic.forever(function () {\r\n    // قراءة UID من RFID\r\n    if (RFID.isCard()) {\r\n        uid = RFID.getUID()\r\n        serial.writeLine(\"UID: \" + uid)\r\n        basic.pause(1000)\r\n    }\r\n})\r\n\r\nbasic.forever(function () {\r\n    // قراءة الحركة من PIR\r\n    motionDetected = pins.digitalReadPin(DigitalPin.P1) == 1\r\n\r\n    // قراءة الغاز\r\n    gasLevel = pins.analogReadPin(AnalogPin.P0)\r\n\r\n    // قراءة الحرارة والرطوبة\r\n    temp = dht11_dht22.readData(DigitalPin.P8)\r\n    hum = DHT11_TemperatureHumidity.readHumidity(DigitalPin.P8)\r\n\r\n    if (motionDetected) {\r\n        pins.digitalWritePin(DigitalPin.P2, 1)\r\n        basic.showIcon(IconNames.Heart)\r\n        I2C_LCD1602.ShowString(\"Motion: Yes     \", 0, 0)\r\n\r\n        if (uid == allowedUID && temp < 30) {\r\n            I2C_LCD1602.ShowString(\"Access Granted  \", 0, 1)\r\n            servos.P0.setAngle(90)\r\n            basic.pause(3000)\r\n            servos.P0.setAngle(0)\r\n        } else {\r\n            I2C_LCD1602.ShowString(\"Access Denied   \", 0, 1)\r\n        }\r\n    } else {\r\n        pins.digitalWritePin(DigitalPin.P2, 0)\r\n        basic.clearScreen()\r\n        I2C_LCD1602.ShowString(\"Motion: No      \", 0, 0)\r\n        servos.P0.setAngle(0)\r\n    }\r\n\r\n    // عرض المعلومات على الشاشة\r\n    I2C_LCD1602.ShowString(\"Gas:\" + gasLevel + \" T:\" + temp + \"C\", 0, 1)\r\n    basic.pause(2000)\r\n    I2C_LCD1602.ShowString(\"Humidity: \" + hum + \"%     \", 0, 1)\r\n    basic.pause(2000)\r\n})","README.md":"","main.py":"grove\nmotionDetected = False\nlcd: grove.LCD1602 = None\nlcd = grove.create_display(DigitalPin.P20, DigitalPin.P19)\n# إعداد شاشة LCD Grove (I2C): SDA = P20، SCL = P19\n# رسالة ترحيبية\nlcd.setCursor(0, 0)\nlcd.showString(\"Smart Home Ready\")\n\ndef on_forever():\n    global motionDetected\n    motionDetected = pins.digital_read_pin(DigitalPin.P1) == 1\n    if motionDetected:\n        pins.digital_write_pin(DigitalPin.P2, 1)\n        basic.show_icon(IconNames.HAPPY)\n        lcd.setCursor(0, 1)\n        lcd.showString(\"Motion Detected \")\n    else:\n        pins.digital_write_pin(DigitalPin.P2, 0)\n        basic.clear_screen()\n        lcd.setCursor(0, 1)\n        lcd.showString(\"No Motion      \")\n    basic.pause(500)\nbasic.forever(on_forever)\n","pxt.json":"{\n    \"name\": \"smart home\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"core\": \"*\",\n        \"radio\": \"*\",\n        \"microphone\": \"*\",\n        \"Grove\": \"github:seeed-studio/pxt-grove#v0.7.0\",\n        \"pxt-rekabit-rbt-project-kit\": \"github:cytrontechnologies/pxt-rekabit-rbt-project-kit#v1.1.4\",\n        \"i2cLCD1602\": \"github:makecode-extensions/i2cLCD1602#v1.5.0\",\n        \"pxt-DHT11_DHT22\": \"github:alankrantas/pxt-dht11_dht22#v0.0.3\",\n        \"servo\": \"*\",\n        \"pxt-mfrc522\": \"github:joy-it/pxt-rfid-mfrc522#1.0.1\"\n    },\n    \"files\": [\n        \"main.blocks\",\n        \"main.ts\",\n        \"README.md\",\n        \"main.py\"\n    ],\n    \"preferredEditor\": \"tsprj\"\n}\n"}},{"timestamp":1748120753116,"editorVersion":"7.0.61","text":{"main.blocks":"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables></variables><block type=\"pxt-on-start\" x=\"20\" y=\"20\"></block><block type=\"device_forever\" x=\"225\" y=\"20\"></block></xml>","main.ts":"MFRC522.Init()\r\nI2C_LCD1602.LcdInit(0)\r\ndht11_dht22.readDataSuccessful()\r\nlet motionDetected = false\r\nlet gasLevel = 0\r\nlet temp = 0\r\nlet hum = 0\r\nlet uid = \"\"\r\nlet allowedUID = \"A1B2C3D4\" // غيّر هذا إلى UID الخاص ببطاقتك\r\n\r\n// تهيئة الشاشة\r\nI2C_LCD1602.LcdInit(0)\r\nI2C_LCD1602.ShowString(\"Smart Home Ready\", 0, 0)\r\nbasic.pause(2000)\r\nI2C_LCD1602.clear()\r\n\r\n// تهيئة محرك الباب\r\nservos.P0.setAngle(0)\r\n\r\n// تهيئة RFID\r\nRFID.Init(DigitalPin.P16, DigitalPin.P15)\r\nserial.redirectToUSB()\r\nbasic.showIcon(IconNames.Happy)\r\n\r\nbasic.forever(function () {\r\n    // قراءة UID من RFID\r\n    if (RFID.isCard()) {\r\n        uid = RFID.getUID()\r\n        serial.writeLine(\"UID: \" + uid)\r\n        basic.pause(1000)\r\n    }\r\n})\r\n\r\nbasic.forever(function () {\r\n    // قراءة الحركة من PIR\r\n    motionDetected = pins.digitalReadPin(DigitalPin.P1) == 1\r\n\r\n    // قراءة الغاز\r\n    gasLevel = pins.analogReadPin(AnalogPin.P4)\r\n\r\n    // قراءة الحرارة والرطوبة\r\n    temp = dht11_dht22.readData(DigitalPin.P8)\r\n    hum = DHT11_TemperatureHumidity.readHumidity(DigitalPin.P8)\r\n\r\n    if (motionDetected) {\r\n        pins.digitalWritePin(DigitalPin.P2, 1)\r\n        basic.showIcon(IconNames.Heart)\r\n        I2C_LCD1602.ShowString(\"Motion: Yes     \", 0, 0)\r\n\r\n        if (uid == allowedUID && temp < 30) {\r\n            I2C_LCD1602.ShowString(\"Access Granted  \", 0, 1)\r\n            servos.P0.setAngle(90)\r\n            basic.pause(3000)\r\n            servos.P0.setAngle(0)\r\n        } else {\r\n            I2C_LCD1602.ShowString(\"Access Denied   \", 0, 1)\r\n        }\r\n    } else {\r\n        pins.digitalWritePin(DigitalPin.P 2, 0)\r\n        basic.clearScreen()\r\n        I2C_LCD1602.ShowString(\"Motion: No      \", 0, 0)\r\n        servos.P0.setAngle(0)\r\n    }\r\n\r\n    // عرض المعلومات على الشاشة\r\n    I2C_LCD1602.ShowString(\"Gas:\" + gasLevel + \" T:\" + temp + \"C\", 0, 1)\r\n    basic.pause(2000)\r\n    I2C_LCD1602.ShowString(\"Humidity: \" + hum + \"%     \", 0, 1)\r\n    basic.pause(2000)\r\n})","README.md":"","main.py":"grove\nmotionDetected = False\nlcd: grove.LCD1602 = None\nlcd = grove.create_display(DigitalPin.P20, DigitalPin.P19)\n# إعداد شاشة LCD Grove (I2C): SDA = P20، SCL = P19\n# رسالة ترحيبية\nlcd.setCursor(0, 0)\nlcd.showString(\"Smart Home Ready\")\n\ndef on_forever():\n    global motionDetected\n    motionDetected = pins.digital_read_pin(DigitalPin.P1) == 1\n    if motionDetected:\n        pins.digital_write_pin(DigitalPin.P2, 1)\n        basic.show_icon(IconNames.HAPPY)\n        lcd.setCursor(0, 1)\n        lcd.showString(\"Motion Detected \")\n    else:\n        pins.digital_write_pin(DigitalPin.P2, 0)\n        basic.clear_screen()\n        lcd.setCursor(0, 1)\n        lcd.showString(\"No Motion      \")\n    basic.pause(500)\nbasic.forever(on_forever)\n","pxt.json":"{\n    \"name\": \"smart home\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"core\": \"*\",\n        \"radio\": \"*\",\n        \"microphone\": \"*\",\n        \"Grove\": \"github:seeed-studio/pxt-grove#v0.7.0\",\n        \"pxt-rekabit-rbt-project-kit\": \"github:cytrontechnologies/pxt-rekabit-rbt-project-kit#v1.1.4\",\n        \"i2cLCD1602\": \"github:makecode-extensions/i2cLCD1602#v1.5.0\",\n        \"pxt-DHT11_DHT22\": \"github:alankrantas/pxt-dht11_dht22#v0.0.3\",\n        \"servo\": \"*\",\n        \"pxt-mfrc522\": \"github:joy-it/pxt-rfid-mfrc522#1.0.1\"\n    },\n    \"files\": [\n        \"main.blocks\",\n        \"main.ts\",\n        \"README.md\",\n        \"main.py\"\n    ],\n    \"preferredEditor\": \"tsprj\"\n}\n"}},{"timestamp":1748123589096,"editorVersion":"7.0.61","text":{"main.blocks":"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables></variables><block type=\"pxt-on-start\" x=\"20\" y=\"20\"></block><block type=\"device_forever\" x=\"225\" y=\"20\"></block></xml>","main.ts":"MFRC522.Init()\r\nI2C_LCD1602.LcdInit(0)\r\ndht11_dht22.readDataSuccessful()\r\nlet motionDetected = false\r\nlet gasLevel = 0\r\nlet temp = 0\r\nlet hum = 0\r\nlet uid = \"\"\r\nlet allowedUID = \"A1B2C3D4\" // غيّر هذا إلى UID الخاص ببطاقتك\r\n\r\n// تهيئة الشاشة\r\nI2C_LCD1602.LcdInit(0)\r\nI2C_LCD1602.ShowString(\"Smart Home Ready\", 0, 0)\r\nbasic.pause(2000)\r\nI2C_LCD1602.clear()\r\n\r\n// تهيئة محرك الباب\r\nservos.P0.setAngle(0)\r\n\r\n// تهيئة RFID\r\nRFID.Init(DigitalPin.P16, DigitalPin.P15)\r\nserial.redirectToUSB()\r\nbasic.showIcon(IconNames.Happy)\r\n\r\nbasic.forever(function () {\r\n    // قراءة UID من RFID\r\n    if (RFID.isCard()) {\r\n        uid = RFID.getUID()\r\n        serial.writeLine(\"UID: \" + uid)\r\n        basic.pause(1000)\r\n    }\r\n})\r\n\r\nbasic.forever(function () {\r\n    // قراءة الحركة من PIR\r\n    motionDetected = pins.digitalReadPin(DigitalPin.P1) == 1\r\n\r\n    // قراءة الغاز\r\n    gasLevel = pins.analogReadPin(AnalogPin.P4)\r\n\r\n    // قراءة الحرارة والرطوبة\r\n    temp = dht11_dht22.readData(DigitalPin.P8)\r\n    hum = DHT11_TemperatureHumidity.readHumidity(DigitalPin.P8)\r\n\r\n    if (motionDetected) {\r\n        pins.digitalWritePin(DigitalPin.P2, 1)\r\n        basic.showIcon(IconNames.Heart)\r\n        I2C_LCD1602.ShowString(\"Motion: Yes     \", 0, 0)\r\n\r\n        if (uid == allowedUID && temp < 30) {\r\n            I2C_LCD1602.ShowString(\"Access Granted  \", 0, 1)\r\n            servos.P0.setAngle(90)\r\n            basic.pause(3000)\r\n            servos.P0.setAngle(0)\r\n        } else {\r\n            I2C_LCD1602.ShowString(\"Access Denied   \", 0, 1)\r\n        }\r\n    } else {\r\n        pins.digitalWritePin(DigitalPin. P2,0)\r\n        basic.clearScreen()\r\n        I2C_LCD1602.ShowString(\"Motion: No      \", 0, 0)\r\n        servos.P0.setAngle(0)\r\n    }\r\n\r\n    // عرض المعلومات على الشاشة\r\n    I2C_LCD1602.ShowString(\"Gas:\" + gasLevel + \" T:\" + temp + \"C\", 0, 1)\r\n    basic.pause(2000)\r\n    I2C_LCD1602.ShowString(\"Humidity: \" + hum + \"%     \", 0, 1)\r\n    basic.pause(2000)\r\n})","README.md":"","main.py":"grove\nmotionDetected = False\nlcd: grove.LCD1602 = None\nlcd = grove.create_display(DigitalPin.P20, DigitalPin.P19)\n# إعداد شاشة LCD Grove (I2C): SDA = P20، SCL = P19\n# رسالة ترحيبية\nlcd.setCursor(0, 0)\nlcd.showString(\"Smart Home Ready\")\n\ndef on_forever():\n    global motionDetected\n    motionDetected = pins.digital_read_pin(DigitalPin.P1) == 1\n    if motionDetected:\n        pins.digital_write_pin(DigitalPin.P2, 1)\n        basic.show_icon(IconNames.HAPPY)\n        lcd.setCursor(0, 1)\n        lcd.showString(\"Motion Detected \")\n    else:\n        pins.digital_write_pin(DigitalPin.P2, 0)\n        basic.clear_screen()\n        lcd.setCursor(0, 1)\n        lcd.showString(\"No Motion      \")\n    basic.pause(500)\nbasic.forever(on_forever)\n","pxt.json":"{\n    \"name\": \"smart home\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"core\": \"*\",\n        \"radio\": \"*\",\n        \"microphone\": \"*\",\n        \"Grove\": \"github:seeed-studio/pxt-grove#v0.7.0\",\n        \"pxt-rekabit-rbt-project-kit\": \"github:cytrontechnologies/pxt-rekabit-rbt-project-kit#v1.1.4\",\n        \"i2cLCD1602\": \"github:makecode-extensions/i2cLCD1602#v1.5.0\",\n        \"pxt-DHT11_DHT22\": \"github:alankrantas/pxt-dht11_dht22#v0.0.3\",\n        \"servo\": \"*\",\n        \"pxt-mfrc522\": \"github:joy-it/pxt-rfid-mfrc522#1.0.1\"\n    },\n    \"files\": [\n        \"main.blocks\",\n        \"main.ts\",\n        \"README.md\",\n        \"main.py\"\n    ],\n    \"preferredEditor\": \"tsprj\"\n}\n"}},{"timestamp":1748125427684,"editorVersion":"7.0.61","text":{"main.blocks":"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables></variables><block type=\"pxt-on-start\" x=\"20\" y=\"20\"></block><block type=\"device_forever\" x=\"225\" y=\"20\"></block></xml>","main.ts":"let motionDetected = false;\r\nlet gasLevel = 0;\r\nlet Iscard=false;\r\nlet hum = 0;\r\nlet uid = \"\";\r\nlet allowedUID = \"12345678\" // استبدل هذا بـ UID الصحيح من بطاقتك\r\ndht11_dht22.selectTempType(tempType.celsius)\r\ndht11_dht22.readDataSuccessful()\r\nservos.P0.setAngle(90)\r\n// تهيئة الشاشة\r\nI2C_LCD1602.LcdInit(0)\r\nI2C_LCD1602.ShowString(\"Smart Home Ready\", 0, 0)\r\nbasic.pause(2000)\r\nI2C_LCD1602.clear()\r\n\r\n// تهيئة السيرفو (مغلق بالبداية)\r\nservos.P0.setAngle(0)\r\n\r\n// إعداد RFID\r\nserial.redirectToUSB()\r\nMFRC522.Init()\r\nbasic.showIcon(IconNames.Happy)\r\n\r\nbasic.forever(function () {\r\n    // قراءة الحركة من PIR\r\n    motionDetected = pins.digitalReadPin(DigitalPin.P1) == 1\r\n\r\n    // قراءة الغاز من MQ-4 على P4\r\n    gasLevel = pins.analogReadPin(AnalogPin.P4)\r\n\r\n    // قراءة الحرارة والرطوبة من DHT11 على P8\r\n     let temp = (dht11_dht22.readData(dataType.temperature))\r\n    hum = (dht11_dht22.readData(dataType.humidity))\r\n\r\n    // LED عند وجود حركة\r\n    if (motionDetected) {\r\n        pins.digitalWritePin(DigitalPin.P2, 1)\r\n        I2C_LCD1602.ShowString(\"Motion: Yes     \", 0, 0)\r\n\r\n        // شرط فتح الباب فقط إذا UID صحيح والحرارة مناسبة\r\n        if (temp < 30) {\r\n            if (MFRC522.isCard()) {\r\n                MFRC522.readCardSerial();\r\n                uid = MFRC522.getID();\r\n                serial.writeLine(\"UID: \" + uid);\r\n            }\r\n                if (uid == allowedUID) {\r\n                    I2C_LCD1602.ShowString(\"Access Granted \", 0, 1);\r\n                    servos.P0.setAngle(90);     // فتح الباب\r\n                    basic.pause(3000);\r\n                    servos.P0.setAngle(0);      // إغلاق الباب\r\n            }\r\n                else {\r\n                    I2C_LCD1602.ShowString(\"Access Denied   \", 0, 1)\r\n                }\r\n            }\r\n        \r\n     else {\r\n        pins.digitalWritePin(DigitalPin.P2, 0)\r\n        I2C_LCD1602.ShowString(\"Motion: No      \", 0, 0)\r\n        servos.P0.setAngle(0)\r\n    }\r\nbasic.forever(function(){\r\n    // عرض معلومات إضافية على الشاشة\r\n    I2C_LCD1602.ShowString(\"Gas:\" + gasLevel + \" T:\" + temp + \"C\", 0, 1);\r\n    basic.pause(2000);\r\n    I2C_LCD1602.ShowString(\"Humidity:\" + hum + \"% \", 0, 1)\r\n    basic.pause(2000);\r\n    })","README.md":"","main.py":"grove\nmotionDetected = False\nlcd: grove.LCD1602 = None\nlcd = grove.create_display(DigitalPin.P20, DigitalPin.P19)\n# إعداد شاشة LCD Grove (I2C): SDA = P20، SCL = P19\n# رسالة ترحيبية\nlcd.setCursor(0, 0)\nlcd.showString(\"Smart Home Ready\")\n\ndef on_forever():\n    global motionDetected\n    motionDetected = pins.digital_read_pin(DigitalPin.P1) == 1\n    if motionDetected:\n        pins.digital_write_pin(DigitalPin.P2, 1)\n        basic.show_icon(IconNames.HAPPY)\n        lcd.setCursor(0, 1)\n        lcd.showString(\"Motion Detected \")\n    else:\n        pins.digital_write_pin(DigitalPin.P2, 0)\n        basic.clear_screen()\n        lcd.setCursor(0, 1)\n        lcd.showString(\"No Motion      \")\n    basic.pause(500)\nbasic.forever(on_forever)\n","pxt.json":"{\n    \"name\": \"smart home\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"core\": \"*\",\n        \"radio\": \"*\",\n        \"microphone\": \"*\",\n        \"Grove\": \"github:seeed-studio/pxt-grove#v0.7.0\",\n        \"pxt-rekabit-rbt-project-kit\": \"github:cytrontechnologies/pxt-rekabit-rbt-project-kit#v1.1.4\",\n        \"i2cLCD1602\": \"github:makecode-extensions/i2cLCD1602#v1.5.0\",\n        \"pxt-DHT11_DHT22\": \"github:alankrantas/pxt-dht11_dht22#v0.0.3\",\n        \"servo\": \"*\",\n        \"pxt-mfrc522\": \"github:joy-it/pxt-rfid-mfrc522#1.0.1\"\n    },\n    \"files\": [\n        \"main.blocks\",\n        \"main.ts\",\n        \"README.md\",\n        \"main.py\"\n    ],\n    \"preferredEditor\": \"tsprj\"\n}\n"}},{"timestamp":1748160154674,"editorVersion":"7.0.61","text":{"main.blocks":"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables></variables><block type=\"pxt-on-start\" x=\"20\" y=\"20\"></block><block type=\"device_forever\" x=\"225\" y=\"20\"></block></xml>","main.ts":"let motionDetected = false;\r\nlet gasLevel = 0;\r\nlet hum = 0;\r\nlet uid = \"\";\r\nlet allowedUID = \"12345678\"; // استبدل هذا بـ UID الصحيح من بطاقتك\r\n\r\n// إعداد المستشعرات\r\ndht11_dht22.selectTempType(tempType.celsius);\r\ndht11_dht22.readDataSuccessful();\r\nservos.P0.setAngle(90); // مبدئيًا\r\n\r\n// تهيئة الشاشة\r\nI2C_LCD1602.LcdInit(0);\r\nI2C_LCD1602.ShowString(\"Smart Home Ready\", 0, 0);\r\nbasic.pause(2000);\r\nI2C_LCD1602.clear();\r\n\r\n// إعداد RFID\r\nserial.redirectToUSB();\r\nMFRC522.Init();\r\nbasic.showIcon(IconNames.Happy);\r\n\r\n// تهيئة السيرفو (مغلق بالبداية)\r\nservos.P0.setAngle(0);\r\n\r\nbasic.forever(function () {\r\n    // قراءة الحركة من PIR\r\n    motionDetected = pins.digitalReadPin(DigitalPin.P1) == 1;\r\n    // قراءة الغاز من MQ-4\r\n\r\n    gasLevel = pins.analogReadPin(AnalogPin.P4);\r\n    \r\n    // قراءة الحرارة والرطوبة من DHT11\r\n    let temp = dht11_dht22.readData(dataType.temperature);\r\n    hum = dht11_dht22.readData(dataType.humidity);\r\n\r\n    // عرض حالة الحركة\r\n    if (motionDetected) {\r\n        pins.digitalWritePin(DigitalPin.P2, 1);\r\n        I2C_LCD1602.ShowString(\"Motion: Yes     \", 0, 0);\r\n    \r\n        // التحقق من البطاقة والحرارة\r\n    if (temp < 30) {\r\n            if (MFRC522.isCard()) {\r\n                MFRC522.readCardSerial();\r\n                uid = MFRC522.getID(); // تحقق من صحة هذا الاسم\r\n                serial.writeLine(\"UID: \" + uid);\r\n                }\r\n              if (uid == allowedUID) {\r\n                    I2C_LCD1602.ShowString(\"Access Granted \", 0, 1);\r\n                    servos.P0.setAngle(90);     // فتح الباب\r\n                    basic.pause(3000);\r\n                    servos.P0.setAngle(0);      // إغلاق الباب\r\n                }\r\n                 else {\r\n                    I2C_LCD1602.ShowString(\"Access Denied  \", 0, 1);\r\n                }\r\n            \r\n        }\r\n     else {\r\n        pins.digitalWritePin(DigitalPin.P2, 0);\r\n        I2C_LCD1602.ShowString(\"Motion: No      \", 0, 0);\r\n        servos.P0.setAngle(0);\r\n    }\r\n    \r\n    // عرض معلومات إضافية على الشاشة\r\n    I2C_LCD1602.ShowString(\"Gas:\" + gasLevel + \" T:\" + temp + \"C\", 0, 1);\r\n    basic.pause(2000);\r\n    I2C_LCD1602.ShowString(\"Humidity:\" + hum + \"% \", 0, 1);\r\n    basic.pause(2000);\r\n    \r\n    })","README.md":"","main.py":"grove\nmotionDetected = False\nlcd: grove.LCD1602 = None\nlcd = grove.create_display(DigitalPin.P20, DigitalPin.P19)\n# إعداد شاشة LCD Grove (I2C): SDA = P20، SCL = P19\n# رسالة ترحيبية\nlcd.setCursor(0, 0)\nlcd.showString(\"Smart Home Ready\")\n\ndef on_forever():\n    global motionDetected\n    motionDetected = pins.digital_read_pin(DigitalPin.P1) == 1\n    if motionDetected:\n        pins.digital_write_pin(DigitalPin.P2, 1)\n        basic.show_icon(IconNames.HAPPY)\n        lcd.setCursor(0, 1)\n        lcd.showString(\"Motion Detected \")\n    else:\n        pins.digital_write_pin(DigitalPin.P2, 0)\n        basic.clear_screen()\n        lcd.setCursor(0, 1)\n        lcd.showString(\"No Motion      \")\n    basic.pause(500)\nbasic.forever(on_forever)\n","pxt.json":"{\n    \"name\": \"smart home\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"core\": \"*\",\n        \"radio\": \"*\",\n        \"microphone\": \"*\",\n        \"Grove\": \"github:seeed-studio/pxt-grove#v0.7.0\",\n        \"pxt-rekabit-rbt-project-kit\": \"github:cytrontechnologies/pxt-rekabit-rbt-project-kit#v1.1.4\",\n        \"i2cLCD1602\": \"github:makecode-extensions/i2cLCD1602#v1.5.0\",\n        \"pxt-DHT11_DHT22\": \"github:alankrantas/pxt-dht11_dht22#v0.0.3\",\n        \"servo\": \"*\",\n        \"pxt-mfrc522\": \"github:joy-it/pxt-rfid-mfrc522#1.0.1\"\n    },\n    \"files\": [\n        \"main.blocks\",\n        \"main.ts\",\n        \"README.md\",\n        \"main.py\"\n    ],\n    \"preferredEditor\": \"tsprj\"\n}\n"}},{"timestamp":1748161964294,"editorVersion":"7.0.61","text":{"main.blocks":"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables></variables><block type=\"pxt-on-start\" x=\"20\" y=\"20\"></block><block type=\"device_forever\" x=\"225\" y=\"20\"></block></xml>","main.ts":"let motionDetected = false;\r\nlet gasLevel = 0;\r\nlet hum = 0;\r\nlet uid = \"\";\r\nlet allowedUID = \"12345678\"; // استبدله بـ UID الحقيقي\r\n\r\n// إعداد DHT11\r\ndht11_dht22.selectTempType(tempType.celsius);\r\ndht11_dht22.readDataSuccessful();\r\n\r\n// تهيئة السيرفو والـ LCD\r\nservos.P0.setAngle(0); // إغلاق مبدئي\r\nI2C_LCD1602.LcdInit(0);\r\nI2C_LCD1602.ShowString(\"Smart Home Ready\", 0, 0);\r\nbasic.pause(2000);\r\nI2C_LCD1602.clear();\r\n\r\n// إعداد RFID\r\nserial.redirectToUSB();\r\nMFRC522.Init();\r\nbasic.showIcon(IconNames.Happy);\r\n\r\nbasic.forever(function () {\r\n    // قراءة الحركة\r\n    motionDetected = pins.digitalReadPin(DigitalPin.P1) == 1;\r\n    // قراءة الغاز\r\n    gasLevel = pins.analogReadPin(AnalogPin.P4);\r\n    // قراءة الحرارة والرطوبة\r\n    let temp = dht11_dht22.readData(dataType.temperature);\r\n    hum = dht11_dht22.readData(dataType.humidity);\r\n\r\n    // حالة الحركة\r\n    if (motionDetected) {\r\n        pins.digitalWritePin(DigitalPin.P2, 1);\r\n        I2C_LCD1602.ShowString(\"Motion: Yes     \", 0, 0);\r\n\r\n        if (temp < 30) {\r\n            \r\n                uid = MFRC522.getID(); // تأكد أن getID() ترجع UID كـ String\r\n                serial.writeLine(\"UID: \" + uid);\r\n            \r\n                if (uid == allowedUID) {\r\n                    I2C_LCD1602.ShowString(\"Access Granted \", 0, 1);\r\n                    servos.P0.setAngle(90); // فتح الباب\r\n                    basic.pause(3000);\r\n                    servos.P0.setAngle(0);  // إغلاق الباب\r\n                } else {\r\n                    I2C_LCD1602.ShowString(\"Access Denied  \", 0, 1);\r\n                }\r\n            \r\n        } else {\r\n            I2C_LCD1602.ShowString(\"High Temp!      \", 0, 1);\r\n        }\r\n    } else {\r\n        pins.digitalWritePin(DigitalPin.P2, 0);\r\n        I2C_LCD1602.ShowString(\"Motion: No      \", 0, 0);\r\n        servos.P0.setAngle(0);\r\n    }\r\n    \r\n    // عرض بيانات إضافية\r\n    basic.pause(2000);\r\n    I2C_LCD1602.ShowString(\"Gas:\" + gasLevel + \" T:\" + temp + \"C\", 0, 1);\r\n    basic.pause(2000);\r\n    I2C_LCD1602.ShowString(\"Humidity:\" + hum + \"%     \", 0, 1);\r\n    basic.pause(2000);\r\n});","README.md":"","main.py":"motionDetected = False\ngasLevel = 0\nhum = 0\nuid = \"\"\nallowedUID = \"12345678\"\n# استبدله بـ UID الحقيقي\n# إعداد DHT11\ndht11_dht22.select_temp_type(tempType.CELSIUS)\ndht11_dht22.read_data_successful()\n# تهيئة السيرفو والـ LCD\nservos.P0.set_angle(0)\n# إغلاق مبدئي\nI2C_LCD1602.lcd_init(0)\nI2C_LCD1602.show_string(\"Smart Home Ready\", 0, 0)\nbasic.pause(2000)\nI2C_LCD1602.clear()\n# إعداد RFID\nserial.redirect_to_usb()\nMFRC522.init()\nbasic.show_icon(IconNames.HAPPY)\n\ndef on_forever():\n    global motionDetected, gasLevel, hum, uid\n    # قراءة الحركة\n    motionDetected = pins.digital_read_pin(DigitalPin.P1) == 1\n    # قراءة الغاز\n    gasLevel = pins.analog_read_pin(AnalogPin.P4)\n    # قراءة الحرارة والرطوبة\n    temp = dht11_dht22.read_data(dataType.TEMPERATURE)\n    hum = dht11_dht22.read_data(dataType.HUMIDITY)\n    # حالة الحركة\n    if motionDetected:\n        pins.digital_write_pin(DigitalPin.P2, 1)\n        I2C_LCD1602.show_string(\"Motion: Yes     \", 0, 0)\n        if temp < 30:\n            uid = MFRC522.get_id()\n            # تأكد أن getID() ترجع UID كـ String\n            serial.write_line(\"UID: \" + uid)\n            # إغلاق الباب\n            if uid == allowedUID:\n                I2C_LCD1602.show_string(\"Access Granted \", 0, 1)\n                servos.P0.set_angle(90)\n                # فتح الباب\n                basic.pause(3000)\n                servos.P0.set_angle(0)\n            else:\n                I2C_LCD1602.show_string(\"Access Denied  \", 0, 1)\n        else:\n            I2C_LCD1602.show_string(\"High Temp!      \", 0, 1)\n    else:\n        pins.digital_write_pin(DigitalPin.P2, 0)\n        I2C_LCD1602.show_string(\"Motion: No      \", 0, 0)\n        servos.P0.set_angle(0)\n    # عرض بيانات إضافية\n    basic.pause(2000)\n    I2C_LCD1602.show_string(\"Gas:\" + str(gasLevel) + \" T:\" + str(temp) + \"C\", 0, 1)\n    basic.pause(2000)\n    I2C_LCD1602.show_string(\"Humidity:\" + str(hum) + \"%     \", 0, 1)\n    basic.pause(2000)\nbasic.forever(on_forever)\n","pxt.json":"{\n    \"name\": \"smart home\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"core\": \"*\",\n        \"radio\": \"*\",\n        \"microphone\": \"*\",\n        \"Grove\": \"github:seeed-studio/pxt-grove#v0.7.0\",\n        \"pxt-rekabit-rbt-project-kit\": \"github:cytrontechnologies/pxt-rekabit-rbt-project-kit#v1.1.4\",\n        \"i2cLCD1602\": \"github:makecode-extensions/i2cLCD1602#v1.5.0\",\n        \"pxt-DHT11_DHT22\": \"github:alankrantas/pxt-dht11_dht22#v0.0.3\",\n        \"servo\": \"*\",\n        \"pxt-mfrc522\": \"github:joy-it/pxt-rfid-mfrc522#1.0.1\"\n    },\n    \"files\": [\n        \"main.blocks\",\n        \"main.ts\",\n        \"README.md\",\n        \"main.py\"\n    ],\n    \"preferredEditor\": \"tsprj\"\n}\n"}},{"timestamp":1748163849474,"editorVersion":"7.0.61","text":{"main.blocks":"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables><variable id=\"3[SQ15#3k:|imRq,]u90\">motionDetected</variable><variable id=\"~AN3Y)$jT4mU1XK%gx[9\">gasLevel</variable><variable id=\"7MB0ca4%wonnWK4dIH.G\">temp</variable><variable id=\"F2%1e;5e=qjB4XrzU+s#\">hum</variable></variables><block type=\"pxt-on-start\" x=\"54\" y=\"4\"><statement name=\"HANDLER\"><block type=\"I2C_LCD1620_SET_ADDRESS\"><comment pinned=\"false\" h=\"80\" w=\"160\">إعداد شاشة LCD</comment><value name=\"addr\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"I2C_LCD1620_SHOW_STRING\"><value name=\"s\"><shadow type=\"text\"><field name=\"TEXT\">Smart Home Ready</field></shadow></value><value name=\"x\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"15\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow></value><value name=\"y\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"1\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow></value><next><block type=\"device_pause\"><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">2000</field></shadow></value><next><block type=\"I2C_LCD1620_CLEAR\"><next><block type=\"dht11_dht22_selectTempType\"><field name=\"temp\">tempType.celsius</field><comment pinned=\"false\" h=\"80\" w=\"160\">إعداد DHT11</comment><next><block type=\"servoservosetangle\"><field name=\"servo\">servos.P0</field><comment pinned=\"false\" h=\"80\" w=\"160\">إغلاق السيرفو مبدئيًا</comment><value name=\"degrees\"><shadow type=\"protractorPicker\"><field name=\"angle\">0</field></shadow></value></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"device_forever\" x=\"205\" y=\"0\"><statement name=\"HANDLER\"><block type=\"variables_set\"><field name=\"VAR\" id=\"3[SQ15#3k:|imRq,]u90\">motionDetected</field><comment pinned=\"false\" h=\"80\" w=\"160\">قراءة الحركة من PIR</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"device_get_digital_pin\"><value name=\"name\"><shadow type=\"digital_pin_shadow\"><field name=\"pin\">DigitalPin.P1</field></shadow></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"~AN3Y)$jT4mU1XK%gx[9\">gasLevel</field><comment pinned=\"false\" h=\"80\" w=\"160\">قراءة الغاز من MQ-4</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"device_get_analog_pin\"><value name=\"name\"><shadow type=\"analog_read_write_pin_shadow\"><field name=\"pin\">AnalogReadWritePin.P0</field></shadow><block type=\"analog_pin\"><field name=\"pin\">AnalogPin.P4</field></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"7MB0ca4%wonnWK4dIH.G\">temp</field><comment pinned=\"false\" h=\"80\" w=\"160\">قراءة الحرارة والرطوبة من DHT11</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"dht11_dht22_readData\"><field name=\"data\">dataType.temperature</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"F2%1e;5e=qjB4XrzU+s#\">hum</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"dht11_dht22_readData\"><field name=\"data\">dataType.humidity</field></block></value><next><block type=\"I2C_LCD1620_SHOW_STRING\"><comment pinned=\"false\" h=\"80\" w=\"160\">عرض درجة الحرارة والرطوبة</comment><value name=\"s\"><block type=\"text_join\" inline=\"false\"><mutation items=\"5\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">T:</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"7MB0ca4%wonnWK4dIH.G\">temp</field></block></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\">C H:</field></shadow></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"F2%1e;5e=qjB4XrzU+s#\">hum</field></block></value><value name=\"ADD4\"><shadow type=\"text\"><field name=\"TEXT\">%</field></shadow></value></block></value><value name=\"x\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"15\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow></value><value name=\"y\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"1\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow></value><next><block type=\"device_pause\"><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">2000</field></shadow></value><next><block type=\"I2C_LCD1620_SHOW_STRING\"><comment pinned=\"false\" h=\"80\" w=\"160\">عرض نسبة الغاز</comment><value name=\"s\"><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">Gas: </field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"~AN3Y)$jT4mU1XK%gx[9\">gasLevel</field></block></value></block></value><value name=\"x\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"15\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow></value><value name=\"y\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"1\" precision=\"0\"></mutation><field name=\"SLIDER\">1</field></shadow></value><next><block type=\"device_pause\"><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">2000</field></shadow></value><next><block type=\"controls_if\"><mutation else=\"1\"></mutation><comment pinned=\"false\" h=\"80\" w=\"160\">التحقق من الحركة</comment><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"3[SQ15#3k:|imRq,]u90\">motionDetected</field></block></value><statement name=\"DO0\"><block type=\"device_set_digital_pin\"><comment pinned=\"false\" h=\"80\" w=\"160\">تشغيل LED</comment><value name=\"name\"><shadow type=\"digital_pin_shadow\"><field name=\"pin\">DigitalPin.P2</field></shadow></value><value name=\"value\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"1\" precision=\"0\"></mutation><field name=\"SLIDER\">1</field></shadow></value><next><block type=\"I2C_LCD1620_SHOW_STRING\"><data>{\"commentRefs\":[],\"fieldData\":{}}</data><value name=\"s\"><shadow type=\"text\"><field name=\"TEXT\">Motion: Yes     </field></shadow></value><value name=\"x\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"15\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow></value><value name=\"y\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"1\" precision=\"0\"></mutation><field name=\"SLIDER\">1</field></shadow></value><next><block type=\"controls_if\"><comment pinned=\"false\" h=\"80\" w=\"160\">إذا درجة الحرارة أقل من 30 نفتح الباب</comment><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">LT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"7MB0ca4%wonnWK4dIH.G\">temp</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">30</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"servoservosetangle\"><field name=\"servo\">servos.P0</field><comment pinned=\"false\" h=\"80\" w=\"160\">فتح الباب</comment><value name=\"degrees\"><shadow type=\"protractorPicker\"><field name=\"angle\">90</field></shadow></value><next><block type=\"device_pause\"><data>{\"commentRefs\":[],\"fieldData\":{}}</data><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">3000</field></shadow></value><next><block type=\"servoservosetangle\"><field name=\"servo\">servos.P0</field><comment pinned=\"false\" h=\"80\" w=\"160\">إغلاق الباب</comment><value name=\"degrees\"><shadow type=\"protractorPicker\"><field name=\"angle\">0</field></shadow></value></block></next></block></next></block></statement></block></next></block></next></block></statement><statement name=\"ELSE\"><block type=\"device_set_digital_pin\"><comment pinned=\"false\" h=\"80\" w=\"160\">إطفاء LED</comment><value name=\"name\"><shadow type=\"digital_pin_shadow\"><field name=\"pin\">DigitalPin.P2</field></shadow></value><value name=\"value\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"1\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow></value><next><block type=\"I2C_LCD1620_SHOW_STRING\"><data>{\"commentRefs\":[],\"fieldData\":{}}</data><value name=\"s\"><shadow type=\"text\"><field name=\"TEXT\">Motion: No      </field></shadow></value><value name=\"x\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"15\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow></value><value name=\"y\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"1\" precision=\"0\"></mutation><field name=\"SLIDER\">1</field></shadow></value></block></next></block></statement><next><block type=\"device_pause\"><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">2000</field></shadow></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></xml>","main.ts":"let hum = 0\nlet temp = 0\nlet gasLevel = 0\nlet motionDetected = false\n// إعداد شاشة LCD\nI2C_LCD1602.LcdInit(0)\nI2C_LCD1602.ShowString(\"Smart Home Ready\", 0, 0)\nbasic.pause(2000)\nI2C_LCD1602.clear()\n// إعداد DHT11\ndht11_dht22.selectTempType(tempType.celsius)\n// إغلاق السيرفو مبدئيًا\nservos.P0.setAngle(0)\nbasic.forever(function () {\n    // قراءة الحركة من PIR\n    motionDetected = pins.digitalReadPin(DigitalPin.P1) == 1\n    // قراءة الغاز من MQ-4\n    gasLevel = pins.analogReadPin(AnalogPin.P4)\n    // قراءة الحرارة والرطوبة من DHT11\n    temp = dht11_dht22.readData(dataType.temperature)\n    hum = dht11_dht22.readData(dataType.humidity)\n    // عرض درجة الحرارة والرطوبة\n    I2C_LCD1602.ShowString(\"T:\" + temp + \"C H:\" + hum + \"%\", 0, 0)\n    basic.pause(2000)\n    // عرض نسبة الغاز\n    I2C_LCD1602.ShowString(\"Gas: \" + gasLevel, 0, 1)\n    basic.pause(2000)\n    // التحقق من الحركة\n    if (motionDetected) {\n        // تشغيل LED\n        pins.digitalWritePin(DigitalPin.P2, 1)\n        I2C_LCD1602.ShowString(\"Motion: Yes     \", 0, 1)\n        // إذا درجة الحرارة أقل من 30 نفتح الباب\n        if (temp < 30) {\n            // فتح الباب\n            servos.P0.setAngle(90)\n            basic.pause(3000)\n            // إغلاق الباب\n            servos.P0.setAngle(0)\n        }\n    } else {\n        // إطفاء LED\n        pins.digitalWritePin(DigitalPin.P2, 0)\n        I2C_LCD1602.ShowString(\"Motion: No      \", 0, 1)\n    }\n    basic.pause(2000)\n})\n","README.md":"","main.py":"motionDetected = False\ngasLevel = 0\nhum = 0\nuid = \"\"\nallowedUID = \"12345678\"\n# استبدله بـ UID الحقيقي\n# إعداد DHT11\ndht11_dht22.select_temp_type(tempType.CELSIUS)\ndht11_dht22.read_data_successful()\n# تهيئة السيرفو والـ LCD\nservos.P0.set_angle(0)\n# إغلاق مبدئي\nI2C_LCD1602.lcd_init(0)\nI2C_LCD1602.show_string(\"Smart Home Ready\", 0, 0)\nbasic.pause(2000)\nI2C_LCD1602.clear()\n# إعداد RFID\nserial.redirect_to_usb()\nMFRC522.init()\nbasic.show_icon(IconNames.HAPPY)\n\ndef on_forever():\n    global motionDetected, gasLevel, hum, uid\n    # قراءة الحركة\n    motionDetected = pins.digital_read_pin(DigitalPin.P1) == 1\n    # قراءة الغاز\n    gasLevel = pins.analog_read_pin(AnalogPin.P4)\n    # قراءة الحرارة والرطوبة\n    temp = dht11_dht22.read_data(dataType.TEMPERATURE)\n    hum = dht11_dht22.read_data(dataType.HUMIDITY)\n    # حالة الحركة\n    if motionDetected:\n        pins.digital_write_pin(DigitalPin.P2, 1)\n        I2C_LCD1602.show_string(\"Motion: Yes     \", 0, 0)\n        if temp < 30:\n            uid = MFRC522.get_id()\n            # تأكد أن getID() ترجع UID كـ String\n            serial.write_line(\"UID: \" + uid)\n            # إغلاق الباب\n            if uid == allowedUID:\n                I2C_LCD1602.show_string(\"Access Granted \", 0, 1)\n                servos.P0.set_angle(90)\n                # فتح الباب\n                basic.pause(3000)\n                servos.P0.set_angle(0)\n            else:\n                I2C_LCD1602.show_string(\"Access Denied  \", 0, 1)\n        else:\n            I2C_LCD1602.show_string(\"High Temp!      \", 0, 1)\n    else:\n        pins.digital_write_pin(DigitalPin.P2, 0)\n        I2C_LCD1602.show_string(\"Motion: No      \", 0, 0)\n        servos.P0.set_angle(0)\n    # عرض بيانات إضافية\n    basic.pause(2000)\n    I2C_LCD1602.show_string(\"Gas:\" + str(gasLevel) + \" T:\" + str(temp) + \"C\", 0, 1)\n    basic.pause(2000)\n    I2C_LCD1602.show_string(\"Humidity:\" + str(hum) + \"%     \", 0, 1)\n    basic.pause(2000)\nbasic.forever(on_forever)\n","pxt.json":"{\n    \"name\": \"smart home\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"core\": \"*\",\n        \"radio\": \"*\",\n        \"microphone\": \"*\",\n        \"Grove\": \"github:seeed-studio/pxt-grove#v0.7.0\",\n        \"pxt-rekabit-rbt-project-kit\": \"github:cytrontechnologies/pxt-rekabit-rbt-project-kit#v1.1.4\",\n        \"i2cLCD1602\": \"github:makecode-extensions/i2cLCD1602#v1.5.0\",\n        \"pxt-DHT11_DHT22\": \"github:alankrantas/pxt-dht11_dht22#v0.0.3\",\n        \"servo\": \"*\",\n        \"pxt-mfrc522\": \"github:joy-it/pxt-rfid-mfrc522#1.0.1\"\n    },\n    \"files\": [\n        \"main.blocks\",\n        \"main.ts\",\n        \"README.md\",\n        \"main.py\"\n    ],\n    \"preferredEditor\": \"tsprj\",\n    \"yotta\": {\n        \"config\": {\n            \"microbit-dal\": {\n                \"bluetooth\": {\n                    \"open\": 0,\n                    \"whitelist\": 1,\n                    \"security_level\": \"SECURITY_MODE_ENCRYPTION_NO_MITM\"\n                }\n            }\n        }\n    }\n}\n"}},{"timestamp":1748165769514,"editorVersion":"7.0.61","text":{"main.blocks":"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables><variable id=\"3[SQ15#3k:|imRq,]u90\">motionDetected</variable><variable id=\"~AN3Y)$jT4mU1XK%gx[9\">gasLevel</variable><variable id=\"7MB0ca4%wonnWK4dIH.G\">temp</variable><variable id=\"F2%1e;5e=qjB4XrzU+s#\">hum</variable></variables><block type=\"pxt-on-start\" x=\"54\" y=\"4\"><statement name=\"HANDLER\"><block type=\"I2C_LCD1620_SET_ADDRESS\"><comment pinned=\"false\" h=\"80\" w=\"160\">إعداد شاشة LCD</comment><value name=\"addr\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"I2C_LCD1620_SHOW_STRING\"><value name=\"s\"><shadow type=\"text\"><field name=\"TEXT\">Smart Home Ready</field></shadow></value><value name=\"x\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"15\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow></value><value name=\"y\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"1\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow></value><next><block type=\"device_pause\"><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">2000</field></shadow></value><next><block type=\"I2C_LCD1620_CLEAR\"><next><block type=\"dht11_dht22_selectTempType\"><field name=\"temp\">tempType.celsius</field><comment pinned=\"false\" h=\"80\" w=\"160\">إعداد DHT11</comment><next><block type=\"servoservosetangle\"><field name=\"servo\">servos.P0</field><comment pinned=\"false\" h=\"80\" w=\"160\">إغلاق السيرفو مبدئيًا</comment><value name=\"degrees\"><shadow type=\"protractorPicker\"><field name=\"angle\">0</field></shadow></value></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"device_forever\" x=\"205\" y=\"0\"><statement name=\"HANDLER\"><block type=\"variables_set\"><field name=\"VAR\" id=\"3[SQ15#3k:|imRq,]u90\">motionDetected</field><comment pinned=\"false\" h=\"80\" w=\"160\">قراءة الحركة من PIR</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"device_get_digital_pin\"><value name=\"name\"><shadow type=\"digital_pin_shadow\"><field name=\"pin\">DigitalPin.P1</field></shadow></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"~AN3Y)$jT4mU1XK%gx[9\">gasLevel</field><comment pinned=\"false\" h=\"80\" w=\"160\">قراءة الغاز من MQ-4</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"device_get_analog_pin\"><value name=\"name\"><shadow type=\"analog_read_write_pin_shadow\"><field name=\"pin\">AnalogReadWritePin.P0</field></shadow><block type=\"analog_pin\"><field name=\"pin\">AnalogPin.P4</field></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"7MB0ca4%wonnWK4dIH.G\">temp</field><comment pinned=\"false\" h=\"80\" w=\"160\">قراءة الحرارة والرطوبة من DHT11</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"dht11_dht22_readData\"><field name=\"data\">dataType.temperature</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"F2%1e;5e=qjB4XrzU+s#\">hum</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"dht11_dht22_readData\"><field name=\"data\">dataType.humidity</field></block></value><next><block type=\"I2C_LCD1620_SHOW_STRING\"><comment pinned=\"false\" h=\"80\" w=\"160\">عرض درجة الحرارة والرطوبة</comment><value name=\"s\"><block type=\"text_join\" inline=\"false\"><mutation items=\"5\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">T:</field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"7MB0ca4%wonnWK4dIH.G\">temp</field></block></value><value name=\"ADD2\"><shadow type=\"text\"><field name=\"TEXT\">C H:</field></shadow></value><value name=\"ADD3\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"F2%1e;5e=qjB4XrzU+s#\">hum</field></block></value><value name=\"ADD4\"><shadow type=\"text\"><field name=\"TEXT\">%</field></shadow></value></block></value><value name=\"x\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"15\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow></value><value name=\"y\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"1\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow></value><next><block type=\"device_pause\"><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">2000</field></shadow></value><next><block type=\"I2C_LCD1620_SHOW_STRING\"><comment pinned=\"false\" h=\"80\" w=\"160\">عرض نسبة الغاز</comment><value name=\"s\"><block type=\"text_join\"><mutation items=\"2\"></mutation><value name=\"ADD0\"><shadow type=\"text\"><field name=\"TEXT\">Gas: </field></shadow></value><value name=\"ADD1\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"~AN3Y)$jT4mU1XK%gx[9\">gasLevel</field></block></value></block></value><value name=\"x\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"15\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow></value><value name=\"y\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"1\" precision=\"0\"></mutation><field name=\"SLIDER\">1</field></shadow></value><next><block type=\"device_pause\"><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">2000</field></shadow></value><next><block type=\"controls_if\"><mutation else=\"1\"></mutation><comment pinned=\"false\" h=\"80\" w=\"160\">التحقق من الحركة</comment><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"3[SQ15#3k:|imRq,]u90\">motionDetected</field></block></value><statement name=\"DO0\"><block type=\"device_set_digital_pin\"><comment pinned=\"false\" h=\"80\" w=\"160\">تشغيل LED</comment><value name=\"name\"><shadow type=\"digital_pin_shadow\"><field name=\"pin\">DigitalPin.P2</field></shadow></value><value name=\"value\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"1\" precision=\"0\"></mutation><field name=\"SLIDER\">1</field></shadow></value><next><block type=\"I2C_LCD1620_SHOW_STRING\"><data>{\"commentRefs\":[],\"fieldData\":{}}</data><value name=\"s\"><shadow type=\"text\"><field name=\"TEXT\">Motion: Yes     </field></shadow></value><value name=\"x\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"15\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow></value><value name=\"y\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"1\" precision=\"0\"></mutation><field name=\"SLIDER\">1</field></shadow></value><next><block type=\"controls_if\"><comment pinned=\"false\" h=\"80\" w=\"160\">إذا درجة الحرارة أقل من 30 نفتح الباب</comment><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">LT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"7MB0ca4%wonnWK4dIH.G\">temp</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">30</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"servoservosetangle\"><field name=\"servo\">servos.P0</field><comment pinned=\"false\" h=\"80\" w=\"160\">فتح الباب</comment><value name=\"degrees\"><shadow type=\"protractorPicker\"><field name=\"angle\">90</field></shadow></value><next><block type=\"device_pause\"><data>{\"commentRefs\":[],\"fieldData\":{}}</data><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">3000</field></shadow></value><next><block type=\"servoservosetangle\"><field name=\"servo\">servos.P0</field><comment pinned=\"false\" h=\"80\" w=\"160\">إغلاق الباب</comment><value name=\"degrees\"><shadow type=\"protractorPicker\"><field name=\"angle\">0</field></shadow></value></block></next></block></next></block></statement></block></next></block></next></block></statement><statement name=\"ELSE\"><block type=\"device_set_digital_pin\"><comment pinned=\"false\" h=\"80\" w=\"160\">إطفاء LED</comment><value name=\"name\"><shadow type=\"digital_pin_shadow\"><field name=\"pin\">DigitalPin.P2</field></shadow></value><value name=\"value\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"1\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow></value><next><block type=\"I2C_LCD1620_SHOW_STRING\"><data>{\"commentRefs\":[],\"fieldData\":{}}</data><value name=\"s\"><shadow type=\"text\"><field name=\"TEXT\">Motion: No      </field></shadow></value><value name=\"x\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"15\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow></value><value name=\"y\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"1\" precision=\"0\"></mutation><field name=\"SLIDER\">1</field></shadow></value></block></next></block></statement><next><block type=\"device_pause\"><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">2000</field></shadow></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></xml>","main.ts":"let motionDetected = false;\nlet gasLevel = 0;\nlet hum = 0;\nlet uid = \"\";\nlet allowedUID = \"12345678\"; // استبدله بـ UID الحقيقي\n\n// إعداد DHT11\ndht11_dht22.selectTempType(tempType.celsius);\ndht11_dht22.readDataSuccessful();\n\n// تهيئة السيرفو والـ LCD\nservos.P0.setAngle(0); // إغلاق مبدئي\nI2C_LCD1602.LcdInit(0);\nI2C_LCD1602.ShowString(\"Smart Home Ready\", 0, 0);\nbasic.pause(2000);\nI2C_LCD1602.clear();\n\n// إعداد RFID\nserial.redirectToUSB();\nMFRC522.Init();\nbasic.showIcon(IconNames.Happy);\n\nbasic.forever(function () {\n    // قراءة الحركة\n    motionDetected = pins.digitalReadPin(DigitalPin.P1) == 1;\n    // قراءة الغاز\n    gasLevel = pins.analogReadPin(AnalogPin.P4);\n    // قراءة الحرارة والرطوبة\n    let temp = dht11_dht22.readData(dataType.temperature);\n    hum = dht11_dht22.readData(dataType.humidity);\n\n    // حالة الحركة\n    if (motionDetected) {\n        pins.digitalWritePin(DigitalPin.P2, 1);\n        I2C_LCD1602.ShowString(\"Motion: Yes     \", 0, 0);\n\n        if (temp < 30) {\n            if (MFRC522.isCard()) {\n                MFRC522.readCardSerial();\n                uid = MFRC522.getID(); // تأكد أن getID() ترجع UID كـ String\n                serial.writeLine(\"UID: \" + uid);\n\n                if (uid == allowedUID) {\n                    I2C_LCD1602.ShowString(\"Access Granted \", 0, 1);\n                    servos.P0.setAngle(90); // فتح الباب\n                    basic.pause(3000);\n                    servos.P0.setAngle(0);  // إغلاق الباب\n                } else {\n                    I2C_LCD1602.ShowString(\"Access Denied  \", 0, 1);\n                }\n            }\n        } else {\n            I2C_LCD1602.ShowString(\"High Temp!      \", 0, 1);\n        }\n    } else {\n        pins.digitalWritePin(DigitalPin.P2, 0);\n        I2C_LCD1602.ShowString(\"Motion: No      \", 0, 0);\n        servos.P0.setAngle(0);\n    }\n\n    // عرض بيانات إضافية\n    basic.pause(2000);\n    I2C_LCD1602.ShowString(\"Gas:\" + gasLevel + \" T:\" + temp + \"C\", 0, 1);\n    basic.pause(2000);\n    I2C_LCD1602.ShowString(\"Humidity:\" + hum + \"%     \", 0, 1);\n    basic.pause(2000);\n});","README.md":"","main.py":"motionDetected = False\ngasLevel = 0\nhum = 0\nuid = \"\"\nallowedUID = \"12345678\"\n# استبدله بـ UID الحقيقي\n# إعداد DHT11\ndht11_dht22.select_temp_type(tempType.CELSIUS)\ndht11_dht22.read_data_successful()\n# تهيئة السيرفو والـ LCD\nservos.P0.set_angle(0)\n# إغلاق مبدئي\nI2C_LCD1602.lcd_init(0)\nI2C_LCD1602.show_string(\"Smart Home Ready\", 0, 0)\nbasic.pause(2000)\nI2C_LCD1602.clear()\n# إعداد RFID\nserial.redirect_to_usb()\nMFRC522.init()\nbasic.show_icon(IconNames.HAPPY)\n\ndef on_forever():\n    global motionDetected, gasLevel, hum, uid\n    # قراءة الحركة\n    motionDetected = pins.digital_read_pin(DigitalPin.P1) == 1\n    # قراءة الغاز\n    gasLevel = pins.analog_read_pin(AnalogPin.P4)\n    # قراءة الحرارة والرطوبة\n    temp = dht11_dht22.read_data(dataType.TEMPERATURE)\n    hum = dht11_dht22.read_data(dataType.HUMIDITY)\n    # حالة الحركة\n    if motionDetected:\n        pins.digital_write_pin(DigitalPin.P2, 1)\n        I2C_LCD1602.show_string(\"Motion: Yes     \", 0, 0)\n        if temp < 30:\n            uid = MFRC522.get_id()\n            # تأكد أن getID() ترجع UID كـ String\n            serial.write_line(\"UID: \" + uid)\n            # إغلاق الباب\n            if uid == allowedUID:\n                I2C_LCD1602.show_string(\"Access Granted \", 0, 1)\n                servos.P0.set_angle(90)\n                # فتح الباب\n                basic.pause(3000)\n                servos.P0.set_angle(0)\n            else:\n                I2C_LCD1602.show_string(\"Access Denied  \", 0, 1)\n        else:\n            I2C_LCD1602.show_string(\"High Temp!      \", 0, 1)\n    else:\n        pins.digital_write_pin(DigitalPin.P2, 0)\n        I2C_LCD1602.show_string(\"Motion: No      \", 0, 0)\n        servos.P0.set_angle(0)\n    # عرض بيانات إضافية\n    basic.pause(2000)\n    I2C_LCD1602.show_string(\"Gas:\" + str(gasLevel) + \" T:\" + str(temp) + \"C\", 0, 1)\n    basic.pause(2000)\n    I2C_LCD1602.show_string(\"Humidity:\" + str(hum) + \"%     \", 0, 1)\n    basic.pause(2000)\nbasic.forever(on_forever)\n","pxt.json":"{\n    \"name\": \"smart home\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"core\": \"*\",\n        \"radio\": \"*\",\n        \"microphone\": \"*\",\n        \"Grove\": \"github:seeed-studio/pxt-grove#v0.7.0\",\n        \"pxt-rekabit-rbt-project-kit\": \"github:cytrontechnologies/pxt-rekabit-rbt-project-kit#v1.1.4\",\n        \"i2cLCD1602\": \"github:makecode-extensions/i2cLCD1602#v1.5.0\",\n        \"pxt-DHT11_DHT22\": \"github:alankrantas/pxt-dht11_dht22#v0.0.3\",\n        \"servo\": \"*\",\n        \"pxt-mfrc522\": \"github:joy-it/pxt-rfid-mfrc522#1.0.1\"\n    },\n    \"files\": [\n        \"main.blocks\",\n        \"main.ts\",\n        \"README.md\",\n        \"main.py\"\n    ],\n    \"preferredEditor\": \"tsprj\",\n    \"yotta\": {\n        \"config\": {\n            \"microbit-dal\": {\n                \"bluetooth\": {\n                    \"open\": 0,\n                    \"whitelist\": 1,\n                    \"security_level\": \"SECURITY_MODE_ENCRYPTION_NO_MITM\"\n                }\n            }\n        }\n    }\n}\n"}}],"shares":[],"lastSaveTime":1748166793448}